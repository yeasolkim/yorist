"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[555],{5767:function(e,t,r){r.d(t,{Z:function(){return a}});var n=r(7437);function a(e){let{activeTab:t,onTabChange:r}=e,a=[{id:"home",label:"홈",icon:(0,n.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})},{id:"recipebook",label:"레시피북",icon:(0,n.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 19.5A2.5 2.5 0 016.5 17H20M4 19.5V6.5A2.5 2.5 0 016.5 4H20v13M4 19.5V21a1 1 0 001 1h13.5a2.5 2.5 0 002.5-2.5V6.5"})})},{id:"search",label:"검색",icon:(0,n.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})},{id:"favorites",label:"즐겨찾기",icon:(0,n.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}],o=e=>{r(e)};return(0,n.jsx)("nav",{className:"fixed bottom-0 left-0 w-full z-50 bg-[#1a1a1a]/95 backdrop-blur-xl border-t border-[#2a2a2a] px-4 pb-4 pb-[env(safe-area-inset-bottom)]",children:(0,n.jsx)("div",{className:"flex justify-around items-center h-16 max-w-md mx-auto",children:a.map(e=>{let r=t===e.id;return(0,n.jsxs)("button",{onClick:()=>o(e.id),className:"flex flex-col items-center justify-center flex-1 h-full transition-all duration-300 ease-out relative group min-h-[44px] ".concat(r?"text-orange-400":"text-gray-400 hover:text-gray-300"),"aria-label":e.label,children:[r&&(0,n.jsx)("div",{className:"absolute inset-0 bg-orange-400/10 rounded-xl -m-1 animate-scaleIn"}),(0,n.jsx)("div",{className:"relative flex items-center justify-center mb-1",children:(0,n.jsx)("div",{className:"transition-all duration-300 ease-out ".concat(r?"scale-110":"group-hover:scale-105"),children:e.icon})}),(0,n.jsx)("span",{className:"text-xs font-medium tracking-tight transition-all duration-300 ease-out ".concat(r?"text-orange-400":"text-gray-400 group-hover:text-gray-300"),children:e.label}),r&&(0,n.jsx)("div",{className:"absolute bottom-0 w-1 h-1 bg-orange-400 rounded-full animate-scaleIn"})]},e.id)})})})}},6781:function(e,t,r){r.d(t,{Z:function(){return l}});var n=r(7437),a=r(2265),o=r(1492);let s=()=>"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),i=(0,o.eI)("https://rshosgiwnqcvwfnkqdwc.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJzaG9zZ2l3bnFjdndmbmtxZHdjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE2MzMxNjEsImV4cCI6MjA2NzIwOTE2MX0.9yrX80F0-3w0H8u3Qx449oYRpD4vA1wEjEYP7mdylGg");function l(e){let{onSave:t,onCancel:r,initialRecipe:o}=e,[l,c]=(0,a.useState)((null==o?void 0:o.title)||""),[d,u]=(0,a.useState)((null==o?void 0:o.description)||""),[x,m]=(0,a.useState)((null==o?void 0:o.ingredients)||[]),[h,p]=(0,a.useState)((null==o?void 0:o.steps)||[]),[g,b]=(0,a.useState)(""),[f,v]=(0,a.useState)(""),[w,j]=(0,a.useState)(""),[y,N]=(0,a.useState)(""),[k,C]=(0,a.useState)(""),[I,L]=(0,a.useState)((null==o?void 0:o.channel)||""),[M,S]=(0,a.useState)((null==o?void 0:o.videoUrl)||""),[z,E]=(0,a.useState)(null),[J,V]=(0,a.useState)(""),[B,F]=(0,a.useState)(""),[Z,_]=(0,a.useState)(""),[q,R]=(0,a.useState)(""),[O,W]=(0,a.useState)(null),[H,U]=(0,a.useState)(""),X=async()=>{if(g.trim()&&f.trim())try{let e="",{data:t}=await i.from("ingredients_master").select("id").eq("name",g.trim()).single();if(t)e=t.id;else{let{data:t,error:r}=await i.from("ingredients_master").insert({name:g.trim(),unit:w.trim()||"개",shop_url:y.trim()||null,is_favorite:!1}).select("id").single();if(r){console.error("재료 추가 실패:",r),alert("재료 추가에 실패했습니다.");return}e=t.id}let r={ingredient_id:e,name:g.trim(),amount:f.trim(),unit:w.trim()||"개",shopUrl:y.trim()||void 0};m(e=>[...e,r]),b(""),v(""),j(""),N("")}catch(e){console.error("재료 추가 중 오류:",e),alert("재료 추가 중 오류가 발생했습니다.")}},A=e=>{m(t=>t.filter((t,r)=>r!==e))},Y=e=>{p(t=>t.filter((t,r)=>r!==e))},D=(e,t)=>{"up"===t&&e>0?p(t=>{let r=[...t];return[r[e],r[e-1]]=[r[e-1],r[e]],r.map((e,t)=>({...e,order:t+1}))}):"down"===t&&e<h.length-1&&p(t=>{let r=[...t];return[r[e],r[e+1]]=[r[e+1],r[e]],r.map((e,t)=>({...e,order:t+1}))})},G=e=>{E(e),V(x[e].name),F(x[e].amount),_(x[e].unit),R(x[e].shopUrl||"")},Q=e=>{m(t=>t.map((t,r)=>r===e?{...t,name:J,amount:B,unit:Z,shopUrl:q}:t)),E(null),V(""),F(""),_(""),R("")},T=()=>{E(null),V(""),F(""),_(""),R("")},P=e=>{W(e),U(h[e].description)},K=e=>{p(t=>t.map((t,r)=>r===e?{...t,description:H}:t)),W(null),U("")},$=()=>{W(null),U("")},[ee,et]=(0,a.useState)([]),[er,en]=(0,a.useState)(!1),ea=(0,a.useRef)(null);return(0,a.useEffect)(()=>{if(!g.trim()){et([]);return}let e=!0;return(async()=>{let{data:t,error:r}=await i.from("ingredients_master").select("name, unit, shop_url").ilike("name","%".concat(g.trim(),"%")).limit(7);e&&et((null==t?void 0:t.filter(e=>e.name!==g.trim()))||[])})(),()=>{e=!1}},[g]),(0,a.useEffect)(()=>{function e(e){ea.current&&!ea.current.contains(e.target)&&en(!1)}return er&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[er]),(0,n.jsxs)("div",{className:"w-full max-w-md mx-auto px-2 sm:px-4 overflow-x-hidden bg-[#1a1a1a] border border-[#2a2a2a] rounded-2xl p-4 sm:p-6 animate-slideIn",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[(0,n.jsx)("h2",{className:"text-lg sm:text-xl font-bold text-white",children:(null==o?void 0:o.id)?"레시피 수정":"레시피 추가"}),(0,n.jsx)("button",{onClick:r,className:"p-2 text-gray-400 hover:text-white transition-colors min-h-[44px] min-w-[44px] flex items-center justify-center",children:(0,n.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,n.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!l.trim()){alert("레시피 제목을 입력해주세요.");return}if(0===x.length){alert("재료를 하나 이상 추가해주세요.");return}if(0===h.length){alert("조리 단계를 하나 이상 추가해주세요.");return}t({id:(null==o?void 0:o.id)||s(),title:l.trim(),description:d.trim(),ingredients:x,steps:h.map(e=>({description:e.description})),videoUrl:M.trim()||void 0,channel:I.trim()||void 0,tags:(null==o?void 0:o.tags)||[],isVegetarian:(null==o?void 0:o.isVegetarian)||!1,createdat:(null==o?void 0:o.createdat)||new Date,isfavorite:(null==o?void 0:o.isfavorite)||!1})},className:"space-y-4 sm:space-y-6",children:[(0,n.jsxs)("div",{className:"space-y-3 sm:space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-white font-medium mb-2",children:"레시피 제목 *"}),(0,n.jsx)("input",{type:"text",value:l,onChange:e=>c(e.target.value),placeholder:"예: 김치찌개",className:"w-full bg-[#2a2a2a] border border-[#3a3a3a] text-white placeholder:text-gray-500 rounded-xl px-4 py-3 focus:border-orange-400 focus:ring-2 focus:ring-orange-400/20 outline-none transition-all duration-200 min-h-[48px]",required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-white font-medium mb-2",children:"유튜브 링크"}),(0,n.jsx)("input",{type:"text",value:M,onChange:e=>S(e.target.value),placeholder:"https://youtube.com/...",className:"w-full bg-[#2a2a2a] border border-[#3a3a3a] text-white placeholder:text-gray-500 rounded-xl px-4 py-3 focus:border-orange-400 focus:ring-2 focus:ring-orange-400/20 outline-none transition-all duration-200 min-h-[44px]"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-white font-medium mb-2",children:"설명"}),(0,n.jsx)("textarea",{value:d,onChange:e=>u(e.target.value),placeholder:"레시피에 대한 간단한 설명을 입력하세요",rows:3,className:"w-full bg-[#2a2a2a] border border-[#3a3a3a] text-white placeholder:text-gray-500 rounded-xl px-4 py-3 focus:border-orange-400 focus:ring-2 focus:ring-orange-400/20 outline-none transition-all duration-200 resize-none min-h-[80px]"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-white font-medium mb-3",children:"재료 *"}),(0,n.jsxs)("div",{className:"space-y-3",children:[x.map((e,t)=>(0,n.jsx)("div",{className:"flex items-center gap-3 p-3 bg-[#2a2a2a] rounded-xl border border-[#3a3a3a]",children:z===t?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("input",{type:"text",value:J,onChange:e=>V(e.target.value),placeholder:"재료명",className:"bg-[#232323] border border-[#444] text-white rounded-xl px-2 py-1 text-sm w-1/4"}),(0,n.jsx)("input",{type:"text",value:B,onChange:e=>F(e.target.value),placeholder:"수량",className:"bg-[#232323] border border-[#444] text-white rounded-xl px-2 py-1 text-sm w-1/4"}),(0,n.jsx)("input",{type:"text",value:Z,onChange:e=>_(e.target.value),placeholder:"단위",className:"bg-[#232323] border border-[#444] text-white rounded-xl px-2 py-1 text-sm w-1/4"}),(0,n.jsx)("input",{type:"text",value:q,onChange:e=>R(e.target.value),placeholder:"구매링크",className:"bg-[#232323] border border-[#444] text-white rounded-xl px-2 py-1 text-sm w-1/4"}),(0,n.jsx)("button",{type:"button",onClick:()=>Q(t),className:"ml-2 px-2 py-1 bg-orange-500 text-white rounded-lg text-xs",children:"저장"}),(0,n.jsx)("button",{type:"button",onClick:T,className:"ml-1 px-2 py-1 bg-gray-500 text-white rounded-lg text-xs",children:"취소"})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsx)("div",{className:"text-white font-medium",children:e.name}),(0,n.jsxs)("div",{className:"text-gray-400 text-sm",children:[e.amount," ",e.unit]})]}),(0,n.jsx)("button",{type:"button",onClick:()=>G(t),className:"p-2 text-gray-400 hover:text-orange-400 transition-colors min-h-[44px] min-w-[44px]",children:(0,n.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536M9 11l6.293-6.293a1 1 0 011.414 0l2.586 2.586a1 1 0 010 1.414L11 15H9v-2z"})})}),(0,n.jsx)("button",{type:"button",onClick:()=>A(t),className:"p-2 text-gray-400 hover:text-red-400 transition-colors min-h-[44px] min-w-[44px]",children:(0,n.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})},t)),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-2 relative",children:[(0,n.jsxs)("div",{className:"relative",ref:ea,children:[(0,n.jsx)("input",{type:"text",value:g,onChange:e=>{b(e.target.value),en(!0)},placeholder:"재료명",className:"bg-[#2a2a2a] border border-[#3a3a3a] text-white placeholder:text-gray-500 rounded-xl px-3 py-2 focus:border-orange-400 focus:ring-2 focus:ring-orange-400/20 outline-none transition-all duration-200 text-sm",autoComplete:"off",onFocus:()=>en(!0)}),er&&ee.length>0&&(0,n.jsx)("div",{className:"absolute left-0 right-0 z-20 bg-[#232323] border border-[#444] rounded-xl mt-1 shadow-lg max-h-48 overflow-y-auto",children:ee.map((e,t)=>(0,n.jsxs)("div",{className:"px-4 py-2 text-sm text-white hover:bg-orange-500 hover:text-white cursor-pointer",onClick:()=>{b(e.name),j(e.unit||""),N(e.shop_url||""),en(!1)},children:[(0,n.jsx)("span",{className:"font-medium",children:e.name}),e.unit&&(0,n.jsx)("span",{className:"ml-2 text-gray-400 text-xs",children:e.unit}),e.shop_url&&(0,n.jsx)("span",{className:"ml-2 text-orange-400 text-xs underline",children:"구매링크"})]},t))})]}),(0,n.jsx)("input",{type:"text",value:f,onChange:e=>v(e.target.value),placeholder:"수량",className:"bg-[#2a2a2a] border border-[#3a3a3a] text-white placeholder:text-gray-500 rounded-xl px-3 py-2 focus:border-orange-400 focus:ring-2 focus:ring-orange-400/20 outline-none transition-all duration-200 text-sm"})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,n.jsx)("input",{type:"text",value:w,onChange:e=>j(e.target.value),placeholder:"단위 (개, g, ml 등)",className:"bg-[#2a2a2a] border border-[#3a3a3a] text-white placeholder:text-gray-500 rounded-xl px-3 py-2 focus:border-orange-400 focus:ring-2 focus:ring-orange-400/20 outline-none transition-all duration-200 text-sm"}),(0,n.jsx)("input",{type:"text",value:y,onChange:e=>N(e.target.value),placeholder:"구매링크 (선택)",className:"bg-[#2a2a2a] border border-[#3a3a3a] text-white placeholder:text-gray-500 rounded-xl px-3 py-2 focus:border-orange-400 focus:ring-2 focus:ring-orange-400/20 outline-none transition-all duration-200 text-sm"})]}),(0,n.jsx)("button",{type:"button",onClick:X,className:"w-full bg-orange-500 hover:bg-orange-600 text-white rounded-xl py-2 font-medium transition-colors",children:"재료 추가"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-white font-medium mb-3",children:"조리 단계 *"}),(0,n.jsxs)("div",{className:"space-y-3",children:[h.map((e,t)=>(0,n.jsx)("div",{className:"flex items-start gap-3 p-3 bg-[#2a2a2a] rounded-xl border border-[#3a3a3a]",children:O===t?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("input",{type:"text",value:H,onChange:e=>U(e.target.value),placeholder:"조리 단계 설명",className:"flex-1 bg-[#232323] border border-[#444] text-white rounded-xl px-2 py-1 text-sm"}),(0,n.jsx)("button",{type:"button",onClick:()=>K(t),className:"ml-2 px-2 py-1 bg-orange-500 text-white rounded-lg text-xs",children:"저장"}),(0,n.jsx)("button",{type:"button",onClick:$,className:"ml-1 px-2 py-1 bg-gray-500 text-white rounded-lg text-xs",children:"취소"})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsxs)("div",{className:"text-white text-sm mb-1",children:["단계 ",t+1]}),(0,n.jsx)("div",{className:"text-gray-300",children:e.description})]}),(0,n.jsxs)("div",{className:"flex gap-1",children:[(0,n.jsx)("button",{type:"button",onClick:()=>D(t,"up"),disabled:0===t,className:"p-1 text-gray-400 hover:text-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,n.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),(0,n.jsx)("button",{type:"button",onClick:()=>D(t,"down"),disabled:t===h.length-1,className:"p-1 text-gray-400 hover:text-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,n.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),(0,n.jsx)("button",{type:"button",onClick:()=>P(t),className:"p-1 text-gray-400 hover:text-orange-400 transition-colors",children:(0,n.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536M9 11l6.293-6.293a1 1 0 011.414 0l2.586 2.586a1 1 0 010 1.414L11 15H9v-2z"})})}),(0,n.jsx)("button",{type:"button",onClick:()=>Y(t),className:"p-1 text-gray-400 hover:text-red-400 transition-colors",children:(0,n.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})},t)),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)("input",{type:"text",value:k,onChange:e=>C(e.target.value),placeholder:"조리 단계를 입력하세요",className:"flex-1 bg-[#2a2a2a] border border-[#3a3a3a] text-white placeholder:text-gray-500 rounded-xl px-3 py-2 focus:border-orange-400 focus:ring-2 focus:ring-orange-400/20 outline-none transition-all duration-200 text-sm"}),(0,n.jsx)("button",{type:"button",onClick:()=>{if(k.trim()){let e={description:k.trim()};p(t=>[...t,e]),C("")}},className:"bg-orange-500 hover:bg-orange-600 text-white rounded-xl px-4 py-2 font-medium transition-colors",children:"추가"})]})]})]}),(0,n.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,n.jsx)("button",{type:"button",onClick:r,className:"flex-1 bg-[#2a2a2a] hover:bg-[#3a3a3a] text-white rounded-xl py-3 font-medium transition-colors",children:"취소"}),(0,n.jsx)("button",{type:"submit",className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white rounded-xl py-3 font-medium transition-colors",children:"저장"})]})]})]})}},5233:function(e,t,r){r.d(t,{Z:function(){return a}});var n=r(7437);function a(){return(0,n.jsxs)("header",{className:"w-full bg-black/70 backdrop-blur-md py-6 mb-6 rounded-b-3xl shadow-sm flex flex-col items-center",children:[(0,n.jsxs)("h1",{className:"text-2xl font-extrabold tracking-tight text-white flex items-center mb-2",children:["Yorist",(0,n.jsx)("span",{className:"ml-2 text-orange-400 text-lg align-super font-semibold",children:"•"})]}),(0,n.jsx)("p",{className:"text-sm text-gray-400 font-medium",children:"나만의 요리 리스트"})]})}},4958:function(e,t,r){r.d(t,{Ku:function(){return a},On:function(){return s}});let n=(0,r(1492).eI)("https://rshosgiwnqcvwfnkqdwc.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJzaG9zZ2l3bnFjdndmbmtxZHdjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE2MzMxNjEsImV4cCI6MjA2NzIwOTE2MX0.9yrX80F0-3w0H8u3Qx449oYRpD4vA1wEjEYP7mdylGg"),a=e=>({title:e.title,description:e.description,ingredients:e.ingredients,steps:e.steps,videourl:e.videoUrl,isVegetarian:e.isVegetarian,isfavorite:e.isfavorite}),o=e=>{var t;return{id:e.id,title:e.title,description:e.description,ingredients:e.ingredients,steps:e.steps,videoUrl:e.videourl,isVegetarian:e.isVegetarian,createdat:new Date(e.createdat),isfavorite:null!==(t=e.isfavorite)&&void 0!==t&&t}},s={async getAllRecipes(){try{let{data:e,error:t}=await n.from("recipes").select("*").order("createdat",{ascending:!1});if(t)throw console.error("레시피 조회 실패:",t),t;return(e||[]).map(o)}catch(e){return console.error("레시피 조회 중 오류 발생:",e),[]}},async getRecipeById(e){try{let{data:t,error:r}=await n.from("recipes").select("*").eq("id",e).single();if(r)return console.error("레시피 조회 실패:",r),null;return t?o(t):null}catch(e){return console.error("레시피 조회 중 오류 발생:",e),null}},async createRecipe(e){try{let{data:t,error:r}=await n.from("recipes").insert([{...e,createdat:new Date().toISOString(),isfavorite:!1}]).select().single();if(r)throw console.error("레시피 생성 실패:",r),r;return t}catch(e){return console.error("레시피 생성 중 오류 발생:",e),null}},async updateRecipe(e,t){try{let{data:r,error:a}=await n.from("recipes").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(a)throw console.error("레시피 수정 실패:",a),a;return r}catch(e){return console.error("레시피 수정 중 오류 발생:",e),null}},async deleteRecipe(e){try{let{error:t}=await n.from("recipes").delete().eq("id",e);if(t)throw console.error("레시피 삭제 실패:",t),t;return!0}catch(e){return console.error("레시피 삭제 중 오류 발생:",e),!1}},async searchRecipes(e){try{let{data:t,error:r}=await n.from("recipes").select("*").ilike("title","%".concat(e,"%")).order("createdat",{ascending:!1});if(r)throw console.error("레시피 검색 실패:",r),r;return(t||[]).map(o)}catch(e){return console.error("레시피 검색 중 오류 발생:",e),[]}},async toggleFavorite(e,t){try{let{error:r}=await n.from("recipes").update({isfavorite:t}).eq("id",e);if(r)throw console.error("즐겨찾기 토글 실패:",r),r;return!0}catch(e){return console.error("즐겨찾기 토글 중 오류 발생:",e),!1}}}},9864:function(e,t,r){r.d(t,{Ei:function(){return a},Zi:function(){return n},b7:function(){return o},qw:function(){return s}});let n=e=>!!e&&[/^https?:\/\/(www\.)?youtube\.com\/watch\?v=[^&\n?#]+/,/^https?:\/\/youtu\.be\/[^&\n?#]+/,/^https?:\/\/(www\.)?youtube\.com\/embed\/[^&\n?#]+/].some(t=>t.test(e)),a=e=>{if(!e)return null;for(let t of[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/,/youtube\.com\/watch\?.*v=([^&\n?#]+)/]){let r=e.match(t);if(r)return r[1]}return null},o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hq";return"https://img.youtube.com/vi/".concat(e,"/").concat(t,"default.jpg")};function s(e){let t="";try{let r=new URL(e);"youtu.be"===r.hostname?t=r.pathname.replace("/",""):r.hostname.includes("youtube.com")&&(t=r.searchParams.get("v")||"")}catch(n){let r=e.match(/(?:youtu\.be\/|v=)([\w-]{11})/);r&&(t=r[1])}return t?"https://img.youtube.com/vi/".concat(t,"/hqdefault.jpg"):""}}}]);