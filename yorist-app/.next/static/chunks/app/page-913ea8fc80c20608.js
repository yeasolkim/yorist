(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1650:function(e,t,a){Promise.resolve().then(a.bind(a,7715))},7715:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return I}});var s=a(7437),n=a(2265),r=a(4033),i=a(4958),l=a(1492);let o=(0,l.eI)("https://rshosgiwnqcvwfnkqdwc.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJzaG9zZ2l3bnFjdndmbmtxZHdjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE2MzMxNjEsImV4cCI6MjA2NzIwOTE2MX0.9yrX80F0-3w0H8u3Qx449oYRpD4vA1wEjEYP7mdylGg"),c=async e=>{let t=[];for(let a of e)try{let{data:e}=await o.from("ingredients_master").select("id").eq("name",a.name).single(),s=a.ingredient_id;if(e)s=e.id;else{let{data:e,error:t}=await o.from("ingredients_master").insert({name:a.name,unit:a.unit||"개",shop_url:a.shopUrl||null,is_favorite:!1}).select("id").single();t?console.error("재료 추가 실패:",t):s=e.id}t.push({...a,ingredient_id:s})}catch(e){console.error("재료 처리 중 오류:",e),t.push(a)}return t},d="yorist_recipes",x={get:e=>{try{return localStorage.getItem(e)}catch(e){return null}},set:(e,t)=>{try{return localStorage.setItem(e,t),!0}catch(e){return!1}}},m=()=>"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),h=e=>{try{var t;let a=g(),s=[{...e,id:e.id||m(),createdat:e.createdat||new Date().toISOString(),isfavorite:null!==(t=e.isfavorite)&&void 0!==t&&t},...a];return x.set(d,JSON.stringify(s))}catch(e){return console.error("레시피 저장 실패:",e),!1}},u=async e=>{try{let t=await c(e.ingredients),a={...e,ingredients:t},s={...(0,i.Ku)(a)};delete s.isVegetarian;let n=await i.On.createRecipe(s);if(n)return console.log("Supabase에 레시피 저장 성공:",n.id),!0;return console.warn("Supabase 저장 실패, localStorage로 폴백"),h(a)}catch(t){return console.error("레시피 저장 실패:",t),h(e)}},g=()=>{try{let e=x.get(d);return e?JSON.parse(e):[]}catch(e){return console.error("레시피 조회 실패:",e),[]}},p=async()=>{try{let e=await i.On.getAllRecipes();if(e.length>0)return console.log("Supabase에서 레시피 조회 성공:",e.length),e;console.warn("Supabase 조회 실패, localStorage로 폴백");let t=x.get(d);return t?JSON.parse(t):[]}catch(e){console.error("레시피 조회 실패:",e);try{let e=x.get(d);return e?JSON.parse(e):[]}catch(e){return[]}}};var f=a(9864);function b(e){let{recipe:t,onClick:a,showFavorite:n=!1,onFavoriteToggle:r,favorites:i}=e,l=t.ingredients.slice(0,3),o=null==i?void 0:i.has(t.id),c=(0,f.qw)(t.videoUrl||t.videourl||"");return(0,s.jsxs)("div",{className:"card bg-[#1a1a1a] border border-[#2a2a2a] rounded-2xl p-5 cursor-pointer hover:border-[#3a3a3a] hover:shadow-lg hover:-translate-y-1 transition-all duration-300 ease-out animate-fadeIn active:scale-95",onClick:a,children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[c&&(0,s.jsx)("div",{className:"flex-shrink-0 mr-3",children:(0,s.jsx)("img",{src:c,alt:"유튜브 썸네일",className:"w-20 h-20 object-cover rounded-xl border border-[#333] shadow-sm",style:{minWidth:80,minHeight:80}})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0 pr-3",children:[(0,s.jsx)("h3",{className:"text-white text-lg font-bold mb-2 line-clamp-2 leading-tight",children:t.title}),(0,s.jsx)("p",{className:"text-gray-400 text-sm line-clamp-2 leading-relaxed",children:t.description})]}),n&&(0,s.jsx)("button",{className:"flex-shrink-0 p-2.5 rounded-full transition-all duration-200 ease-out min-h-[44px] min-w-[44px] ".concat(o?"bg-orange-500/20 text-orange-400 shadow-lg":"bg-[#2a2a2a] text-gray-400 hover:bg-[#3a3a3a]"),onClick:e=>{e.stopPropagation(),null==r||r(t.id,!!o)},children:(0,s.jsx)("svg",{className:"w-5 h-5 ".concat(o?"scale-110":""," transition-transform duration-200"),fill:o?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})})})]}),(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[l.map((e,t)=>(0,s.jsx)("span",{className:"inline-flex items-center gap-1.5 bg-[#2a2a2a] text-white text-xs px-3 py-2 rounded-full border border-[#3a3a3a] hover:border-[#4a4a4a] transition-colors duration-200",children:(0,s.jsx)("span",{className:"font-medium",children:e.name})},t)),t.ingredients.length>3&&(0,s.jsxs)("span",{className:"text-gray-500 text-xs px-3 py-2 bg-[#2a2a2a] rounded-full border border-[#3a3a3a]",children:["+",t.ingredients.length-3,"개 더"]})]})})]})}function v(e){let{title:t,recipes:a,onRecipeClick:n,onFavoriteToggle:r,showFavorite:i=!1,favorites:l}=e;return(0,s.jsxs)("section",{className:"mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h2",{className:"text-white text-lg font-bold",children:t}),(0,s.jsxs)("span",{className:"text-gray-400 text-sm",children:[a.length,"개의 레시피"]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[a.map(e=>(0,s.jsx)(b,{recipe:e,onClick:()=>null==n?void 0:n(e),showFavorite:i,onFavoriteToggle:r,favorites:l},e.id)),0===a.length&&(0,s.jsx)("div",{className:"text-center py-8 text-gray-400",children:(0,s.jsx)("p",{className:"text-sm",children:"레시피가 없습니다"})})]})]})}var j=a(5767);function w(e){let{onRecipeClick:t,onFavoriteToggle:a,favorites:r=new Set}=e,[o,c]=(0,n.useState)(""),[d,x]=(0,n.useState)([]),[m,h]=(0,n.useState)([]),[u,g]=(0,n.useState)(!1),[p,f]=(0,n.useState)([]),v=(0,l.eI)("https://rshosgiwnqcvwfnkqdwc.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJzaG9zZ2l3bnFjdndmbmtxZHdjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE2MzMxNjEsImV4cCI6MjA2NzIwOTE2MX0.9yrX80F0-3w0H8u3Qx449oYRpD4vA1wEjEYP7mdylGg");(0,n.useEffect)(()=>{if(!o.trim()){x([]),h([]);return}g(!0),i.On.searchRecipes(o).then(e=>{x(e);let t=o.toLowerCase(),a=new Set;e.forEach(e=>{var s,n,r;(null===(s=e.title)||void 0===s?void 0:s.toLowerCase().includes(t))&&a.add(e.title),(null===(n=e.description)||void 0===n?void 0:n.toLowerCase().includes(t))&&a.add(e.description),null===(r=e.ingredients)||void 0===r||r.forEach(e=>{var s;(null===(s=e.name)||void 0===s?void 0:s.toLowerCase().includes(t))&&a.add(e.name)})}),h(Array.from(a).slice(0,8))}).catch(()=>{x([]),h([])}).finally(()=>g(!1))},[o]),(0,n.useEffect)(()=>{if(!o.trim()){f([]);return}v.from("ingredients_master").select("id, name, shop_url, is_favorite").ilike("name","%".concat(o,"%")).limit(10).then(e=>{let{data:t}=e;return f(t||[])})},[o]);let j=e=>{c(e)},w=async e=>{let t=!e.is_favorite;f(a=>a.map(a=>a.id===e.id?{...a,is_favorite:t}:a)),await v.from("ingredients_master").update({is_favorite:t}).eq("id",e.id)};return(0,s.jsxs)("div",{className:"min-h-screen bg-black px-4 pt-6 pb-24 max-w-md mx-auto",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-white mb-2",children:"레시피 검색"}),(0,s.jsx)("p",{className:"text-gray-400 text-base",children:"재료명이나 요리명으로 검색해보세요"})]}),(0,s.jsx)("div",{className:"relative mb-6",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("svg",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,s.jsx)("input",{type:"text",value:o,onChange:e=>j(e.target.value),placeholder:"식재료 또는 요리명을 입력하세요",className:"w-full bg-[#1a1a1a] border border-[#2a2a2a] text-white placeholder:text-gray-500 rounded-2xl pl-12 pr-12 py-4 focus:border-orange-400 focus:ring-2 focus:ring-orange-400/20 outline-none transition-all duration-200 text-base min-h-[52px]"}),o&&(0,s.jsx)("button",{onClick:()=>j(""),className:"absolute right-4 top-1/2 transform -translate-y-1/2 w-6 h-6 text-gray-400 hover:text-gray-300 transition-colors min-h-[44px] min-w-[44px] flex items-center justify-center",children:(0,s.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),o.trim()&&m.length>0&&(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h3",{className:"text-white font-semibold mb-3",children:"추천 키워드"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:m.map((e,t)=>(0,s.jsx)("button",{className:"px-4 py-2 rounded-full bg-[#2a2a2a] text-orange-400 text-sm font-medium hover:bg-[#3a3a3a] hover:text-orange-300 transition-all duration-200 border border-[#3a3a3a] hover:border-orange-400/30 min-h-[44px]",onClick:()=>j(e),children:e},t))})]}),o.trim()&&p.length>0&&(0,s.jsxs)("div",{className:"mt-8",children:[(0,s.jsx)("h2",{className:"text-lg font-bold text-white mb-3",children:"식재료 검색 결과"}),(0,s.jsx)("ul",{className:"space-y-3",children:p.map(e=>(0,s.jsxs)("li",{className:"flex items-center justify-between bg-[#232323] rounded-xl px-4 py-3",children:[(0,s.jsx)("span",{className:"text-white font-medium",children:e.name}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[e.shop_url&&(0,s.jsx)("a",{href:e.shop_url,target:"_blank",rel:"noopener noreferrer",className:"text-orange-400 underline text-sm",children:"구매"}),(0,s.jsx)("button",{onClick:()=>w(e),className:"text-lg ".concat(e.is_favorite?"text-orange-400":"text-gray-400"),"aria-label":"즐겨찾기",children:e.is_favorite?"♥":"♡"})]})]},e.id))})]}),o.trim()&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h2",{className:"text-lg font-bold text-white",children:"레시피 검색 결과"}),(0,s.jsxs)("span",{className:"text-gray-400 text-sm",children:[d.length,"개의 레시피"]})]}),u?(0,s.jsx)("div",{className:"text-center py-16 text-orange-400",children:"검색 중..."}):0===d.length?(0,s.jsxs)("div",{className:"text-center py-16",children:[(0,s.jsx)("div",{className:"w-20 h-20 mx-auto mb-6 bg-[#1a1a1a] rounded-full flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-10 h-10 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,s.jsx)("h3",{className:"text-white text-lg font-bold mb-2",children:"검색 결과가 없습니다"}),(0,s.jsx)("p",{className:"text-gray-400 mb-6 text-base",children:"다른 검색어를 시도해보세요"}),(0,s.jsx)("button",{onClick:()=>j(""),className:"px-6 py-3 bg-orange-400 text-white rounded-full font-medium hover:bg-orange-500 transition-colors min-h-[44px]",children:"검색 초기화"})]}):(0,s.jsx)("div",{className:"space-y-4",children:d.map(e=>(0,s.jsx)(b,{recipe:e,onClick:()=>null==t?void 0:t(e),showFavorite:!0,onFavoriteToggle:e=>null==a?void 0:a(e,(null==r?void 0:r.has(e))||!1),favorites:r},e.id))})]})]})}let N=(0,l.eI)("https://rshosgiwnqcvwfnkqdwc.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJzaG9zZ2l3bnFjdndmbmtxZHdjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE2MzMxNjEsImV4cCI6MjA2NzIwOTE2MX0.9yrX80F0-3w0H8u3Qx449oYRpD4vA1wEjEYP7mdylGg");function y(e){let{onRecipeClick:t,onFavoriteToggle:a,favorites:r=new Set}=e,[l,o]=(0,n.useState)([]),[c,d]=(0,n.useState)(!0),x=e=>({id:e.id,title:e.title,description:e.description,ingredients:e.ingredients,steps:e.steps,isfavorite:e.isfavorite,createdat:e.createdat?new Date(e.createdat):new Date});(0,n.useEffect)(()=>{d(!0),i.On.getAllRecipes().then(e=>{let t=e.filter(e=>e.isfavorite&&void 0!==e.id).map(x);o(t),localStorage.setItem("favorites_seen_ids",JSON.stringify(t.map(e=>e.id)))}).finally(()=>d(!1))},[]);let[m,h]=(0,n.useState)([]);return((0,n.useEffect)(()=>{N.from("ingredients_master").select("id, name, shop_url, is_favorite").eq("is_favorite",!0).then(e=>{let{data:t}=e;return h(t||[])})},[]),c)?(0,s.jsx)("div",{className:"min-h-screen bg-black flex items-center justify-center",children:(0,s.jsx)("div",{className:"text-white text-lg",children:"로딩 중..."})}):(0,s.jsxs)("div",{className:"min-h-screen bg-black px-4 pt-6 pb-24 max-w-md mx-auto",children:[(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsx)("h1",{className:"text-2xl font-bold text-white mb-2",children:"즐겨찾기"})}),0===l.length?(0,s.jsxs)("div",{className:"text-center py-16 animate-fadeIn",children:[(0,s.jsx)("div",{className:"w-24 h-24 mx-auto mb-6 bg-[#1a1a1a] rounded-full flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),(0,s.jsx)("h3",{className:"text-white text-xl font-bold mb-3",children:"즐겨찾기한 레시피가 없습니다"}),(0,s.jsx)("p",{className:"text-gray-400 mb-6 text-base",children:"마음에 드는 레시피에 하트를 눌러 저장해보세요"}),(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2 text-gray-500",children:[(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),(0,s.jsx)("span",{className:"text-sm",children:"레시피 카드의 하트 버튼을 눌러보세요"})]})]}):(0,s.jsxs)("div",{className:"animate-fadeIn",children:[(0,s.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,s.jsxs)("span",{className:"text-gray-400 text-sm",children:[l.length,"개의 레시피"]})}),(0,s.jsx)("div",{className:"space-y-4",children:l.map(e=>(0,s.jsx)(b,{recipe:e,onClick:()=>null==t?void 0:t(e),showFavorite:!0,onFavoriteToggle:t=>null==a?void 0:a(t,e.isfavorite),favorites:r},e.id))})]}),m.length>0&&(0,s.jsxs)("div",{className:"mt-8 animate-fadeIn",children:[(0,s.jsx)("h2",{className:"text-lg font-bold text-white mb-3",children:"즐겨찾기한 식재료"}),(0,s.jsx)("ul",{className:"space-y-3",children:m.map(e=>(0,s.jsxs)("li",{className:"flex items-center justify-between bg-[#232323] rounded-xl px-4 py-3",children:[(0,s.jsx)("span",{className:"text-white font-medium",children:e.name}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[e.shop_url&&(0,s.jsx)("a",{href:e.shop_url,target:"_blank",rel:"noopener noreferrer",className:"text-orange-400 underline text-sm",children:"구매"}),(0,s.jsx)("button",{onClick:async()=>{h(m.filter(t=>t.id!==e.id)),await N.from("ingredients_master").update({is_favorite:!1}).eq("id",e.id)},className:"text-lg text-orange-400","aria-label":"즐겨찾기 해제",children:"♥"})]})]},e.id))})]})]})}var k=a(5233),C=a(6781);function I(){let e=(0,r.useRouter)(),[t,a]=(0,n.useState)("home"),[l,o]=(0,n.useState)(new Set),[c,d]=(0,n.useState)([]),[x,m]=(0,n.useState)(!1),[h,g]=(0,n.useState)(""),[f,N]=(0,n.useState)(""),[I,S]=(0,n.useState)(!1),[_,L]=(0,n.useState)(null),[J,z]=(0,n.useState)(null),[M,O]=(0,n.useState)(!0),[E,F]=(0,n.useState)(null),[T,Z]=(0,n.useState)(!1),[A,R]=(0,n.useState)(!1);(0,n.useEffect)(()=>{(async()=>{O(!0);let e=await p();d(e),o(new Set(e.filter(e=>e.isfavorite).map(e=>e.id))),O(!1)})()},[t]);let X=async(e,t)=>{console.log("[handleFavoriteToggle 호출]",{recipeId:e,currentFavorite:t}),await i.On.toggleFavorite(e,!t);let a=await i.On.getAllRecipes();d(a),o(new Set(a.filter(e=>e.isfavorite).map(e=>e.id)))},B=async e=>{if(O(!0),await u(e)){let e=await p();d(e),o(new Set(e.filter(e=>e.isfavorite).map(e=>e.id))),a("home")}O(!1)},W=async e=>{await B(e),m(!1),F(null)},Y=()=>{m(!1),F(null)},q=async()=>{if(f.trim())try{let e,t=f.trim();for(t=(t=t.replace(/^```[a-zA-Z]*\s*([\s\S]*?)\s*```$/m,"$1")).trim();t.startsWith("\n");)t=t.slice(1);for(;t.endsWith("\n");)t=t.slice(0,-1);try{e=JSON.parse(t)}catch(e){alert("JSON 파싱 오류: "+(e instanceof Error?e.message:String(e))+"\n입력값: "+t.slice(0,200));return}let a=Array.isArray(e)?e:[e];if(a[0]&&"string"==typeof a[0].title&&Array.isArray(a[0].ingredients)&&Array.isArray(a[0].steps)){let e=a[0],t=e.ingredients.map((e,t)=>({ingredient_id:e.ingredient_id||"".concat(Date.now(),"-").concat(t,"-").concat(Math.random().toString(36).substr(2,9)),name:e.name||"",amount:e.amount||"",unit:e.unit||"",shopUrl:e.shopUrl||e.shop_url||""})),s=e.steps.map(e=>({description:e.description||e||""})),n={title:e.title,description:e.description||"",ingredients:t,steps:s,videoUrl:e.videourl||e.videoUrl||"",tags:e.tags||[],isVegetarian:e.isVegetarian||!1};F(n),m(!0),N("")}else alert("유효한 레시피 데이터가 없습니다. title, ingredients, steps 필드가 필요합니다.\n파싱된 값: "+JSON.stringify(a[0],null,2))}catch(e){alert("예상치 못한 오류: "+(e instanceof Error?e.message:String(e)))}},U=h?'아래 유튜브 영상의 스크립트를 분석해서, 요리 레시피 데이터를 json 형식으로 만들어줘.\n\n현재 데이터베이스 구조에 맞춰서 다음 형식으로 출력해줘:\n\n{\n  "title": "레시피 제목",\n  "description": "레시피 설명",\n  "ingredients": [\n    {\n      "name": "재료명",\n      "amount": "수량",\n      "unit": "단위",\n      "shopUrl": "구매링크(선택사항)"\n    }\n  ],\n  "steps": [\n    {\n      "description": "조리 단계 설명"\n    }\n  ],\n  "videourl": "'.concat(h,'"\n}\n\n다른 설명 없이 json 데이터만 출력해줘.\n\n유튜브 링크: ').concat(h):"";function D(e){let t=document.createElement("textarea");t.value=e,t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy"),alert("프롬프트가 복사되었습니다!")}catch(e){alert("복사에 실패했습니다. 직접 복사해 주세요.")}document.body.removeChild(t)}let G=async()=>{if(h){S(!0),L(null),z(null);try{let e=await fetch("/api/generate-recipe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({youtubeUrl:h})}),t=await e.json();e.ok&&t.recipe?z(t.recipe):L(t.error||"레시피 생성에 실패했습니다.")}catch(e){L("레시피 생성 중 오류가 발생했습니다.")}finally{S(!1)}}},V=async()=>{J&&(await B(J),z(null),g(""))};return(0,s.jsxs)("div",{className:"min-h-screen bg-black pb-28",children:[(0,s.jsx)(k.Z,{}),x&&(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 animate-fadeIn",children:[(0,s.jsx)("div",{className:"absolute inset-0 cursor-pointer",onClick:Y}),(0,s.jsx)("div",{className:"relative z-10 w-full max-w-md mx-auto max-h-[90vh] overflow-y-auto",children:(0,s.jsx)(C.Z,{onSave:W,onCancel:Y,initialRecipe:E})})]}),M?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,s.jsx)("span",{className:"text-white text-lg",children:"로딩 중..."})}):(0,s.jsxs)("main",{className:"px-4 pt-4 sm:pt-6 max-w-md mx-auto",children:["home"===t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"bg-[#181818] rounded-2xl p-5 mb-6 flex flex-col gap-4 shadow-lg relative",children:[T&&h&&!A&&(0,s.jsx)("button",{className:"absolute top-4 right-4 z-20 p-2 text-gray-400 hover:text-white",onClick:()=>Z(!1),"aria-label":"닫기",children:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,s.jsx)("label",{className:"text-white font-bold text-lg mb-1",children:"유튜브 링크 입력"}),(0,s.jsx)("input",{type:"text",value:h,onChange:e=>{g(e.target.value),e.target.value.trim()?Z(!0):Z(!1)},className:"w-full bg-[#232323] border border-[#333] text-white rounded-xl px-4 py-3 focus:border-orange-400 focus:ring-2 focus:ring-orange-400/20 outline-none transition min-h-[52px]",placeholder:"https://youtube.com/..."}),T&&h&&(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("button",{className:"absolute top-0 right-0 mt-1 mr-1 z-10 p-2 text-gray-400 hover:text-white",onClick:()=>Z(!1),"aria-label":"닫기",children:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,s.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,s.jsx)("button",{className:"flex-1 w-1/2 btn-primary py-3 rounded-xl text-base font-bold",onClick:()=>window.open("https://notebooklm.google.com/","_blank"),disabled:!h,type:"button",children:"NotebookLM"}),(0,s.jsx)("a",{href:"https://lilys.ai/",target:"_blank",rel:"noopener noreferrer",className:"flex-1 w-1/2 btn-primary py-3 rounded-xl text-base font-bold flex items-center justify-center bg-gradient-to-r from-orange-400 to-orange-500 text-white hover:from-orange-500 hover:to-orange-600 transition-all",style:{textAlign:"center",textDecoration:"none"},children:"Lilys"})]}),(0,s.jsx)("button",{className:"w-full bg-gradient-to-r from-orange-400 to-orange-500 text-white py-3 rounded-xl text-base font-bold mt-2 shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all duration-300 ease-out",onClick:G,disabled:!h||I,children:I?"레시피 생성 중...":"레시피 자동 생성"}),I&&(0,s.jsx)("div",{className:"text-orange-400 text-center mt-2",children:"레시피를 생성 중입니다..."}),_&&(0,s.jsx)("div",{className:"text-red-500 text-center mt-2",children:_}),J&&(0,s.jsxs)("div",{className:"mt-4 bg-[#232323] rounded-xl p-4 flex flex-col gap-2",children:[(0,s.jsx)("div",{className:"text-orange-400 font-bold mb-1",children:"생성된 레시피 미리보기"}),(0,s.jsx)(b,{recipe:J,onClick:()=>{},onFavoriteToggle:(e,t)=>X(e,t),favorites:new Set}),(0,s.jsx)("button",{className:"w-full bg-orange-500 hover:bg-orange-600 text-white rounded-xl py-2 font-medium mt-2",onClick:V,children:"레시피 저장"})]}),(0,s.jsxs)("div",{className:"mt-4 bg-[#232323] rounded-xl p-3 flex flex-col gap-2",children:[(0,s.jsx)("div",{className:"text-orange-400 font-bold mb-1",children:"NotebookLM에 붙여넣을 프롬프트"}),(0,s.jsx)("textarea",{className:"w-full bg-[#181818] text-white rounded-xl px-3 py-2 text-sm mb-2",value:U,readOnly:!0,rows:8,style:{resize:"none"}}),(0,s.jsx)("button",{className:"w-full bg-orange-500 hover:bg-orange-600 text-white rounded-xl py-2 font-medium",onClick:()=>{U&&(navigator.clipboard&&window.isSecureContext?navigator.clipboard.writeText(U).then(()=>alert("프롬프트가 복사되었습니다!")).catch(()=>D(U)):D(U))},children:"프롬프트 복사"}),(0,s.jsx)("div",{className:"text-gray-400 text-xs mt-1",children:"NotebookLM에서 프롬프트를 붙여넣고, json만 복사해 오세요."})]}),(0,s.jsxs)("div",{className:"bg-[#181818] rounded-2xl p-5 mt-4 flex flex-col gap-4 shadow-lg",children:[(0,s.jsx)("label",{className:"text-white font-bold text-lg mb-1",children:"json으로 레시피 추가"}),(0,s.jsx)("textarea",{className:"w-full bg-[#232323] border border-[#333] text-white rounded-xl px-4 py-3 focus:border-orange-400 focus:ring-2 focus:ring-orange-400/20 outline-none transition min-h-[80px]",placeholder:"여기에 json을 붙여넣고 등록하세요.",value:f,onChange:e=>N(e.target.value),rows:5}),(0,s.jsx)("button",{className:"w-full bg-gradient-to-r from-orange-400 to-orange-500 text-white py-3 rounded-xl text-base font-bold mt-2 shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all duration-300 ease-out",onClick:q,children:"레시피 추가 화면으로 이동"}),(0,s.jsx)("div",{className:"text-gray-400 text-xs mt-1",children:"json을 파싱하여 레시피 추가 화면에서 자동완성됩니다."})]})]})]}),(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsx)("button",{className:"w-full bg-gradient-to-r from-orange-400 to-orange-500 text-white py-4 sm:py-5 rounded-2xl font-bold text-base sm:text-lg shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all duration-300 ease-out min-h-[56px] sm:min-h-[64px]",onClick:()=>m(!0),children:(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2 sm:gap-3",children:[(0,s.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,s.jsx)("span",{className:"whitespace-nowrap",children:"수동으로 레시피 추가"})]})})})]}),"recipebook"===t&&(0,s.jsx)("div",{className:"animate-fadeIn",children:(0,s.jsx)(v,{title:"나의 레시피북",recipes:c,onRecipeClick:t=>e.push("/recipe/".concat(t.id)),onFavoriteToggle:(e,t)=>X(e,t),favorites:l})}),"search"===t&&(0,s.jsx)("div",{className:"animate-fadeIn",children:(0,s.jsx)(w,{onRecipeClick:t=>e.push("/recipe/".concat(t.id)),onFavoriteToggle:X,favorites:l})}),"favorites"===t&&(0,s.jsx)("div",{className:"animate-fadeIn",children:(0,s.jsx)(y,{onRecipeClick:t=>e.push("/recipe/".concat(t.id)),onFavoriteToggle:X,favorites:l})})]}),(0,s.jsx)(j.Z,{activeTab:t,onTabChange:e=>{a(e)}})]})}}},function(e){e.O(0,[717,555,971,938,744],function(){return e(e.s=1650)}),_N_E=e.O()}]);