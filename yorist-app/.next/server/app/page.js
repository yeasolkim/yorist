(()=>{var e={};e.id=931,e.ids=[931],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},516:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>d,routeModule:()=>u,tree:()=>c});var r=s(482),a=s(9108),i=s(2563),n=s.n(i),l=s(8300),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,1136)),"/Users/yeasolkim/Documents/GitHub/yorist/yorist-app/src/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,1342)),"/Users/yeasolkim/Documents/GitHub/yorist/yorist-app/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/yeasolkim/Documents/GitHub/yorist/yorist-app/src/app/page.tsx"],x="/page",m={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},5867:(e,t,s)=>{Promise.resolve().then(s.bind(s,6419))},6419:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>C});var r=s(2295),a=s(3729),i=s(2254),n=s(8704),l=s(6300);let o=(0,l.eI)("https://rshosgiwnqcvwfnkqdwc.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJzaG9zZ2l3bnFjdndmbmtxZHdjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE2MzMxNjEsImV4cCI6MjA2NzIwOTE2MX0.9yrX80F0-3w0H8u3Qx449oYRpD4vA1wEjEYP7mdylGg"),c=async e=>{let t=[];for(let s of e)try{let{data:e}=await o.from("ingredients_master").select("id").eq("name",s.name).single(),r=s.ingredient_id;if(e)r=e.id;else{let{data:e,error:t}=await o.from("ingredients_master").insert({name:s.name,unit:s.unit||"개",shop_url:s.shopUrl||null,is_favorite:!1}).select("id").single();t?console.error("재료 추가 실패:",t):r=e.id}t.push({...s,ingredient_id:r})}catch(e){console.error("재료 처리 중 오류:",e),t.push(s)}return t},d="yorist_recipes",x={get:e=>{try{return localStorage.getItem(e)}catch{return null}},set:(e,t)=>{try{return localStorage.setItem(e,t),!0}catch{return!1}}},m=()=>`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,u=e=>{try{let t=p(),s=[{...e,id:e.id||m(),createdat:e.createdat||new Date().toISOString(),isfavorite:e.isfavorite??!1},...t];return x.set(d,JSON.stringify(s))}catch(e){return console.error("레시피 저장 실패:",e),!1}},h=async e=>{try{let t=await c(e.ingredients),s={...e,ingredients:t},r={...(0,n.Ku)(s)};delete r.isVegetarian;let a=await n.On.createRecipe(r);if(a)return console.log("Supabase에 레시피 저장 성공:",a.id),!0;return console.warn("Supabase 저장 실패, localStorage로 폴백"),u(s)}catch(t){return console.error("레시피 저장 실패:",t),u(e)}},p=()=>{try{let e=x.get(d);return e?JSON.parse(e):[]}catch(e){return console.error("레시피 조회 실패:",e),[]}},g=async()=>{try{let e=await n.On.getAllRecipes();if(e.length>0)return console.log("Supabase에서 레시피 조회 성공:",e.length),e;console.warn("Supabase 조회 실패, localStorage로 폴백");let t=x.get(d);return t?JSON.parse(t):[]}catch(e){console.error("레시피 조회 실패:",e);try{let e=x.get(d);return e?JSON.parse(e):[]}catch{return[]}}};var f=s(3747);function b({recipe:e,onClick:t,showFavorite:s=!1,onFavoriteToggle:a,favorites:i}){let n=e.ingredients.slice(0,3),l=i?.has(e.id),o=(0,f.qw)(e.videoUrl||e.videourl||"");return(0,r.jsxs)("div",{className:"card bg-[#1a1a1a] border border-[#2a2a2a] rounded-2xl p-5 cursor-pointer hover:border-[#3a3a3a] hover:shadow-lg hover:-translate-y-1 transition-all duration-300 ease-out animate-fadeIn active:scale-95",onClick:t,children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[o&&r.jsx("div",{className:"flex-shrink-0 mr-3",children:r.jsx("img",{src:o,alt:"유튜브 썸네일",className:"w-20 h-20 object-cover rounded-xl border border-[#333] shadow-sm",style:{minWidth:80,minHeight:80}})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0 pr-3",children:[r.jsx("h3",{className:"text-white text-lg font-bold mb-2 line-clamp-2 leading-tight",children:e.title}),r.jsx("p",{className:"text-gray-400 text-sm line-clamp-2 leading-relaxed",children:e.description})]}),s&&r.jsx("button",{className:`flex-shrink-0 p-2.5 rounded-full transition-all duration-200 ease-out min-h-[44px] min-w-[44px] ${l?"bg-orange-500/20 text-orange-400 shadow-lg":"bg-[#2a2a2a] text-gray-400 hover:bg-[#3a3a3a]"}`,onClick:t=>{t.stopPropagation(),a?.(e.id,!!l)},children:r.jsx("svg",{className:`w-5 h-5 ${l?"scale-110":""} transition-transform duration-200`,fill:l?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})})})]}),r.jsx("div",{className:"mb-4",children:(0,r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[n.map((e,t)=>r.jsx("span",{className:"inline-flex items-center gap-1.5 bg-[#2a2a2a] text-white text-xs px-3 py-2 rounded-full border border-[#3a3a3a] hover:border-[#4a4a4a] transition-colors duration-200",children:r.jsx("span",{className:"font-medium",children:e.name})},t)),e.ingredients.length>3&&(0,r.jsxs)("span",{className:"text-gray-500 text-xs px-3 py-2 bg-[#2a2a2a] rounded-full border border-[#3a3a3a]",children:["+",e.ingredients.length-3,"개 더"]})]})})]})}function j({title:e,recipes:t,onRecipeClick:s,onFavoriteToggle:a,showFavorite:i=!1,favorites:n}){return(0,r.jsxs)("section",{className:"mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-white text-lg font-bold",children:e}),(0,r.jsxs)("span",{className:"text-gray-400 text-sm",children:[t.length,"개의 레시피"]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[t.map(e=>r.jsx(b,{recipe:e,onClick:()=>s?.(e),showFavorite:i,onFavoriteToggle:a,favorites:n},e.id)),0===t.length&&r.jsx("div",{className:"text-center py-8 text-gray-400",children:r.jsx("p",{className:"text-sm",children:"레시피가 없습니다"})})]})]})}var v=s(1331);function y({onRecipeClick:e,onFavoriteToggle:t,favorites:s=new Set}){let[i,o]=(0,a.useState)(""),[c,d]=(0,a.useState)([]),[x,m]=(0,a.useState)([]),[u,h]=(0,a.useState)(!1),[p,g]=(0,a.useState)([]),f=(0,l.eI)("https://rshosgiwnqcvwfnkqdwc.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJzaG9zZ2l3bnFjdndmbmtxZHdjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE2MzMxNjEsImV4cCI6MjA2NzIwOTE2MX0.9yrX80F0-3w0H8u3Qx449oYRpD4vA1wEjEYP7mdylGg");(0,a.useEffect)(()=>{if(!i.trim()){d([]),m([]);return}h(!0),n.On.searchRecipes(i).then(e=>{d(e);let t=i.toLowerCase(),s=new Set;e.forEach(e=>{e.title?.toLowerCase().includes(t)&&s.add(e.title),e.description?.toLowerCase().includes(t)&&s.add(e.description),e.ingredients?.forEach(e=>{e.name?.toLowerCase().includes(t)&&s.add(e.name)})}),m(Array.from(s).slice(0,8))}).catch(()=>{d([]),m([])}).finally(()=>h(!1))},[i]),(0,a.useEffect)(()=>{if(!i.trim()){g([]);return}f.from("ingredients_master").select("id, name, shop_url, is_favorite").ilike("name",`%${i}%`).limit(10).then(({data:e})=>g(e||[]))},[i]);let j=e=>{o(e)},v=async e=>{let t=!e.is_favorite;g(s=>s.map(s=>s.id===e.id?{...s,is_favorite:t}:s)),await f.from("ingredients_master").update({is_favorite:t}).eq("id",e.id)};return(0,r.jsxs)("div",{className:"min-h-screen bg-black px-4 pt-6 pb-24 max-w-md mx-auto",children:[(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"레시피 검색"}),r.jsx("p",{className:"text-gray-400 text-base",children:"재료명이나 요리명으로 검색해보세요"})]}),r.jsx("div",{className:"relative mb-6",children:(0,r.jsxs)("div",{className:"relative",children:[r.jsx("svg",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),r.jsx("input",{type:"text",value:i,onChange:e=>j(e.target.value),placeholder:"식재료 또는 요리명을 입력하세요",className:"w-full bg-[#1a1a1a] border border-[#2a2a2a] text-white placeholder:text-gray-500 rounded-2xl pl-12 pr-12 py-4 focus:border-orange-400 focus:ring-2 focus:ring-orange-400/20 outline-none transition-all duration-200 text-base min-h-[52px]"}),i&&r.jsx("button",{onClick:()=>j(""),className:"absolute right-4 top-1/2 transform -translate-y-1/2 w-6 h-6 text-gray-400 hover:text-gray-300 transition-colors min-h-[44px] min-w-[44px] flex items-center justify-center",children:r.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),i.trim()&&x.length>0&&(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-white font-semibold mb-3",children:"추천 키워드"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:x.map((e,t)=>r.jsx("button",{className:"px-4 py-2 rounded-full bg-[#2a2a2a] text-orange-400 text-sm font-medium hover:bg-[#3a3a3a] hover:text-orange-300 transition-all duration-200 border border-[#3a3a3a] hover:border-orange-400/30 min-h-[44px]",onClick:()=>j(e),children:e},t))})]}),i.trim()&&p.length>0&&(0,r.jsxs)("div",{className:"mt-8",children:[r.jsx("h2",{className:"text-lg font-bold text-white mb-3",children:"식재료 검색 결과"}),r.jsx("ul",{className:"space-y-3",children:p.map(e=>(0,r.jsxs)("li",{className:"flex items-center justify-between bg-[#232323] rounded-xl px-4 py-3",children:[r.jsx("span",{className:"text-white font-medium",children:e.name}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[e.shop_url&&r.jsx("a",{href:e.shop_url,target:"_blank",rel:"noopener noreferrer",className:"text-orange-400 underline text-sm",children:"구매"}),r.jsx("button",{onClick:()=>v(e),className:`text-lg ${e.is_favorite?"text-orange-400":"text-gray-400"}`,"aria-label":"즐겨찾기",children:e.is_favorite?"♥":"♡"})]})]},e.id))})]}),i.trim()&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-bold text-white",children:"레시피 검색 결과"}),(0,r.jsxs)("span",{className:"text-gray-400 text-sm",children:[c.length,"개의 레시피"]})]}),u?r.jsx("div",{className:"text-center py-16 text-orange-400",children:"검색 중..."}):0===c.length?(0,r.jsxs)("div",{className:"text-center py-16",children:[r.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-[#1a1a1a] rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-10 h-10 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),r.jsx("h3",{className:"text-white text-lg font-bold mb-2",children:"검색 결과가 없습니다"}),r.jsx("p",{className:"text-gray-400 mb-6 text-base",children:"다른 검색어를 시도해보세요"}),r.jsx("button",{onClick:()=>j(""),className:"px-6 py-3 bg-orange-400 text-white rounded-full font-medium hover:bg-orange-500 transition-colors min-h-[44px]",children:"검색 초기화"})]}):r.jsx("div",{className:"space-y-4",children:c.map(a=>r.jsx(b,{recipe:a,onClick:()=>e?.(a),showFavorite:!0,onFavoriteToggle:e=>t?.(e,s?.has(e)||!1),favorites:s},a.id))})]})]})}let w=(0,l.eI)("https://rshosgiwnqcvwfnkqdwc.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJzaG9zZ2l3bnFjdndmbmtxZHdjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE2MzMxNjEsImV4cCI6MjA2NzIwOTE2MX0.9yrX80F0-3w0H8u3Qx449oYRpD4vA1wEjEYP7mdylGg");function N({onRecipeClick:e,onFavoriteToggle:t,favorites:s=new Set}){let[i,l]=(0,a.useState)([]),[o,c]=(0,a.useState)(!0),d=e=>({id:e.id,title:e.title,description:e.description,ingredients:e.ingredients,steps:e.steps,isfavorite:e.isfavorite,createdat:e.createdat?new Date(e.createdat):new Date});(0,a.useEffect)(()=>{c(!0),n.On.getAllRecipes().then(e=>{let t=e.filter(e=>e.isfavorite&&void 0!==e.id).map(d);l(t),localStorage.setItem("favorites_seen_ids",JSON.stringify(t.map(e=>e.id)))}).finally(()=>c(!1))},[]);let[x,m]=(0,a.useState)([]);return((0,a.useEffect)(()=>{w.from("ingredients_master").select("id, name, shop_url, is_favorite").eq("is_favorite",!0).then(({data:e})=>m(e||[]))},[]),o)?r.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:r.jsx("div",{className:"text-white text-lg",children:"로딩 중..."})}):(0,r.jsxs)("div",{className:"min-h-screen bg-black px-4 pt-6 pb-24 max-w-md mx-auto",children:[r.jsx("div",{className:"mb-6",children:r.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"즐겨찾기"})}),0===i.length?(0,r.jsxs)("div",{className:"text-center py-16 animate-fadeIn",children:[r.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-[#1a1a1a] rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),r.jsx("h3",{className:"text-white text-xl font-bold mb-3",children:"즐겨찾기한 레시피가 없습니다"}),r.jsx("p",{className:"text-gray-400 mb-6 text-base",children:"마음에 드는 레시피에 하트를 눌러 저장해보세요"}),(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2 text-gray-500",children:[r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),r.jsx("span",{className:"text-sm",children:"레시피 카드의 하트 버튼을 눌러보세요"})]})]}):(0,r.jsxs)("div",{className:"animate-fadeIn",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:(0,r.jsxs)("span",{className:"text-gray-400 text-sm",children:[i.length,"개의 레시피"]})}),r.jsx("div",{className:"space-y-4",children:i.map(a=>r.jsx(b,{recipe:a,onClick:()=>e?.(a),showFavorite:!0,onFavoriteToggle:e=>t?.(e,a.isfavorite),favorites:s},a.id))})]}),x.length>0&&(0,r.jsxs)("div",{className:"mt-8 animate-fadeIn",children:[r.jsx("h2",{className:"text-lg font-bold text-white mb-3",children:"즐겨찾기한 식재료"}),r.jsx("ul",{className:"space-y-3",children:x.map(e=>(0,r.jsxs)("li",{className:"flex items-center justify-between bg-[#232323] rounded-xl px-4 py-3",children:[r.jsx("span",{className:"text-white font-medium",children:e.name}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[e.shop_url&&r.jsx("a",{href:e.shop_url,target:"_blank",rel:"noopener noreferrer",className:"text-orange-400 underline text-sm",children:"구매"}),r.jsx("button",{onClick:async()=>{m(x.filter(t=>t.id!==e.id)),await w.from("ingredients_master").update({is_favorite:!1}).eq("id",e.id)},className:"text-lg text-orange-400","aria-label":"즐겨찾기 해제",children:"♥"})]})]},e.id))})]})]})}var k=s(1296),S=s(974);function C(){let e=(0,i.useRouter)(),[t,s]=(0,a.useState)("home"),[l,o]=(0,a.useState)(new Set),[c,d]=(0,a.useState)([]),[x,m]=(0,a.useState)(!1),[u,p]=(0,a.useState)(""),[f,w]=(0,a.useState)(""),[C,I]=(0,a.useState)(!1),[_,L]=(0,a.useState)(null),[M,q]=(0,a.useState)(null),[z,J]=(0,a.useState)(!0),[E,O]=(0,a.useState)(null),[F,A]=(0,a.useState)(!1),[P,T]=(0,a.useState)(!1);(0,a.useEffect)(()=>{(async()=>{J(!0);let e=await g();d(e),o(new Set(e.filter(e=>e.isfavorite).map(e=>e.id))),J(!1)})()},[t]);let Z=async(e,t)=>{console.log("[handleFavoriteToggle 호출]",{recipeId:e,currentFavorite:t}),await n.On.toggleFavorite(e,!t);let s=await n.On.getAllRecipes();d(s),o(new Set(s.filter(e=>e.isfavorite).map(e=>e.id)))},$=async e=>{if(J(!0),await h(e)){let e=await g();d(e),o(new Set(e.filter(e=>e.isfavorite).map(e=>e.id))),s("home")}J(!1)},G=async e=>{await $(e),m(!1),O(null)},R=()=>{m(!1),O(null)},X=async()=>{if(f.trim())try{let e,t=f.trim();for(t=(t=t.replace(/^```[a-zA-Z]*\s*([\s\S]*?)\s*```$/m,"$1")).trim();t.startsWith("\n");)t=t.slice(1);for(;t.endsWith("\n");)t=t.slice(0,-1);try{e=JSON.parse(t)}catch(e){alert("JSON 파싱 오류: "+(e instanceof Error?e.message:String(e))+"\n입력값: "+t.slice(0,200));return}let s=Array.isArray(e)?e:[e];if(s[0]&&"string"==typeof s[0].title&&Array.isArray(s[0].ingredients)&&Array.isArray(s[0].steps)){let e=s[0],t=e.ingredients.map((e,t)=>({ingredient_id:e.ingredient_id||`${Date.now()}-${t}-${Math.random().toString(36).substr(2,9)}`,name:e.name||"",amount:e.amount||"",unit:e.unit||"",shopUrl:e.shopUrl||e.shop_url||""})),r=e.steps.map(e=>({description:e.description||e||""})),a={title:e.title,description:e.description||"",ingredients:t,steps:r,videoUrl:e.videourl||e.videoUrl||"",tags:e.tags||[],isVegetarian:e.isVegetarian||!1};O(a),m(!0),w("")}else alert("유효한 레시피 데이터가 없습니다. title, ingredients, steps 필드가 필요합니다.\n파싱된 값: "+JSON.stringify(s[0],null,2))}catch(e){alert("예상치 못한 오류: "+(e instanceof Error?e.message:String(e)))}},U=u?`아래 유튜브 영상의 스크립트를 분석해서, 요리 레시피 데이터를 json 형식으로 만들어줘.

현재 데이터베이스 구조에 맞춰서 다음 형식으로 출력해줘:

{
  "title": "레시피 제목",
  "description": "레시피 설명",
  "ingredients": [
    {
      "name": "재료명",
      "amount": "수량",
      "unit": "단위",
      "shopUrl": "구매링크(선택사항)"
    }
  ],
  "steps": [
    {
      "description": "조리 단계 설명"
    }
  ],
  "videourl": "${u}"
}

다른 설명 없이 json 데이터만 출력해줘.

유튜브 링크: ${u}`:"";function D(e){let t=document.createElement("textarea");t.value=e,t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy"),alert("프롬프트가 복사되었습니다!")}catch(e){alert("복사에 실패했습니다. 직접 복사해 주세요.")}document.body.removeChild(t)}let B=async()=>{if(u){I(!0),L(null),q(null);try{let e=await fetch("/api/generate-recipe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({youtubeUrl:u})}),t=await e.json();e.ok&&t.recipe?q(t.recipe):L(t.error||"레시피 생성에 실패했습니다.")}catch(e){L("레시피 생성 중 오류가 발생했습니다.")}finally{I(!1)}}},H=async()=>{M&&(await $(M),q(null),p(""))};return(0,r.jsxs)("div",{className:"min-h-screen bg-black pb-28",children:[r.jsx(k.Z,{}),x&&(0,r.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 animate-fadeIn",children:[r.jsx("div",{className:"absolute inset-0 cursor-pointer",onClick:R}),r.jsx("div",{className:"relative z-10 w-full max-w-md mx-auto max-h-[90vh] overflow-y-auto",children:r.jsx(S.Z,{onSave:G,onCancel:R,initialRecipe:E})})]}),z?r.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:r.jsx("span",{className:"text-white text-lg",children:"로딩 중..."})}):(0,r.jsxs)("main",{className:"px-4 pt-4 sm:pt-6 max-w-md mx-auto",children:["home"===t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"bg-[#181818] rounded-2xl p-5 mb-6 flex flex-col gap-4 shadow-lg relative",children:[F&&u&&!P&&r.jsx("button",{className:"absolute top-4 right-4 z-20 p-2 text-gray-400 hover:text-white",onClick:()=>A(!1),"aria-label":"닫기",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),r.jsx("label",{className:"text-white font-bold text-lg mb-1",children:"유튜브 링크 입력"}),r.jsx("input",{type:"text",value:u,onChange:e=>{p(e.target.value),e.target.value.trim()?A(!0):A(!1)},className:"w-full bg-[#232323] border border-[#333] text-white rounded-xl px-4 py-3 focus:border-orange-400 focus:ring-2 focus:ring-orange-400/20 outline-none transition min-h-[52px]",placeholder:"https://youtube.com/..."}),F&&u&&(0,r.jsxs)("div",{className:"relative",children:[r.jsx("button",{className:"absolute top-0 right-0 mt-1 mr-1 z-10 p-2 text-gray-400 hover:text-white",onClick:()=>A(!1),"aria-label":"닫기",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,r.jsxs)("div",{className:"flex gap-2 mt-2",children:[r.jsx("button",{className:"flex-1 w-1/2 btn-primary py-3 rounded-xl text-base font-bold",onClick:()=>window.open("https://notebooklm.google.com/","_blank"),disabled:!u,type:"button",children:"NotebookLM"}),r.jsx("a",{href:"https://lilys.ai/",target:"_blank",rel:"noopener noreferrer",className:"flex-1 w-1/2 btn-primary py-3 rounded-xl text-base font-bold flex items-center justify-center bg-gradient-to-r from-orange-400 to-orange-500 text-white hover:from-orange-500 hover:to-orange-600 transition-all",style:{textAlign:"center",textDecoration:"none"},children:"Lilys"})]}),r.jsx("button",{className:"w-full bg-gradient-to-r from-orange-400 to-orange-500 text-white py-3 rounded-xl text-base font-bold mt-2 shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all duration-300 ease-out",onClick:B,disabled:!u||C,children:C?"레시피 생성 중...":"레시피 자동 생성"}),C&&r.jsx("div",{className:"text-orange-400 text-center mt-2",children:"레시피를 생성 중입니다..."}),_&&r.jsx("div",{className:"text-red-500 text-center mt-2",children:_}),M&&(0,r.jsxs)("div",{className:"mt-4 bg-[#232323] rounded-xl p-4 flex flex-col gap-2",children:[r.jsx("div",{className:"text-orange-400 font-bold mb-1",children:"생성된 레시피 미리보기"}),r.jsx(b,{recipe:M,onClick:()=>{},onFavoriteToggle:(e,t)=>Z(e,t),favorites:new Set}),r.jsx("button",{className:"w-full bg-orange-500 hover:bg-orange-600 text-white rounded-xl py-2 font-medium mt-2",onClick:H,children:"레시피 저장"})]}),(0,r.jsxs)("div",{className:"mt-4 bg-[#232323] rounded-xl p-3 flex flex-col gap-2",children:[r.jsx("div",{className:"text-orange-400 font-bold mb-1",children:"NotebookLM에 붙여넣을 프롬프트"}),r.jsx("textarea",{className:"w-full bg-[#181818] text-white rounded-xl px-3 py-2 text-sm mb-2",value:U,readOnly:!0,rows:8,style:{resize:"none"}}),r.jsx("button",{className:"w-full bg-orange-500 hover:bg-orange-600 text-white rounded-xl py-2 font-medium",onClick:()=>{U&&(navigator.clipboard&&window.isSecureContext?navigator.clipboard.writeText(U).then(()=>alert("프롬프트가 복사되었습니다!")).catch(()=>D(U)):D(U))},children:"프롬프트 복사"}),r.jsx("div",{className:"text-gray-400 text-xs mt-1",children:"NotebookLM에서 프롬프트를 붙여넣고, json만 복사해 오세요."})]}),(0,r.jsxs)("div",{className:"bg-[#181818] rounded-2xl p-5 mt-4 flex flex-col gap-4 shadow-lg",children:[r.jsx("label",{className:"text-white font-bold text-lg mb-1",children:"json으로 레시피 추가"}),r.jsx("textarea",{className:"w-full bg-[#232323] border border-[#333] text-white rounded-xl px-4 py-3 focus:border-orange-400 focus:ring-2 focus:ring-orange-400/20 outline-none transition min-h-[80px]",placeholder:"여기에 json을 붙여넣고 등록하세요.",value:f,onChange:e=>w(e.target.value),rows:5}),r.jsx("button",{className:"w-full bg-gradient-to-r from-orange-400 to-orange-500 text-white py-3 rounded-xl text-base font-bold mt-2 shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all duration-300 ease-out",onClick:X,children:"레시피 추가 화면으로 이동"}),r.jsx("div",{className:"text-gray-400 text-xs mt-1",children:"json을 파싱하여 레시피 추가 화면에서 자동완성됩니다."})]})]})]}),r.jsx("div",{className:"mb-6",children:r.jsx("button",{className:"w-full bg-gradient-to-r from-orange-400 to-orange-500 text-white py-4 sm:py-5 rounded-2xl font-bold text-base sm:text-lg shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all duration-300 ease-out min-h-[56px] sm:min-h-[64px]",onClick:()=>m(!0),children:(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2 sm:gap-3",children:[r.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),r.jsx("span",{className:"whitespace-nowrap",children:"수동으로 레시피 추가"})]})})})]}),"recipebook"===t&&r.jsx("div",{className:"animate-fadeIn",children:r.jsx(j,{title:"나의 레시피북",recipes:c,onRecipeClick:t=>e.push(`/recipe/${t.id}`),onFavoriteToggle:(e,t)=>Z(e,t),favorites:l})}),"search"===t&&r.jsx("div",{className:"animate-fadeIn",children:r.jsx(y,{onRecipeClick:t=>e.push(`/recipe/${t.id}`),onFavoriteToggle:Z,favorites:l})}),"favorites"===t&&r.jsx("div",{className:"animate-fadeIn",children:r.jsx(N,{onRecipeClick:t=>e.push(`/recipe/${t.id}`),onFavoriteToggle:Z,favorites:l})})]}),r.jsx(v.Z,{activeTab:t,onTabChange:e=>{s(e)}})]})}},1136:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>a,default:()=>n});let r=(0,s(6843).createProxy)(String.raw`/Users/yeasolkim/Documents/GitHub/yorist/yorist-app/src/app/page.tsx`),{__esModule:a,$$typeof:i}=r,n=r.default}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[638,312,9,164],()=>s(516));module.exports=r})();