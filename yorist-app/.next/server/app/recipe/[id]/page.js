(()=>{var e={};e.id=316,e.ids=[316],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},2013:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>a.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>p,tree:()=>d});var r=s(482),i=s(9108),n=s(2563),a=s.n(n),l=s(8300),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let d=["",{children:["recipe",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8853)),"/Users/yeasolkim/Documents/GitHub/yorist/yorist-app/src/app/recipe/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,1342)),"/Users/yeasolkim/Documents/GitHub/yorist/yorist-app/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/yeasolkim/Documents/GitHub/yorist/yorist-app/src/app/recipe/[id]/page.tsx"],x="/recipe/[id]/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/recipe/[id]/page",pathname:"/recipe/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7877:(e,t,s)=>{Promise.resolve().then(s.bind(s,3262))},3262:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var r=s(2295),i=s(1296),n=s(2254),a=s(3729),l=s(974),o=s(8704),d=s(3747),c=s(1331),x=s(6300);function m(){let e=(0,n.useRouter)(),{id:t}=(0,n.useParams)(),[s,m]=(0,a.useState)(null),[p,u]=(0,a.useState)(!0),[h,g]=(0,a.useState)([]),[f,b]=(0,a.useState)(null),[j,v]=(0,a.useState)(""),[w,N]=(0,a.useState)(!1),y=(0,x.eI)("https://rshosgiwnqcvwfnkqdwc.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJzaG9zZ2l3bnFjdndmbmtxZHdjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE2MzMxNjEsImV4cCI6MjA2NzIwOTE2MX0.9yrX80F0-3w0H8u3Qx449oYRpD4vA1wEjEYP7mdylGg");(0,a.useEffect)(()=>{t&&(u(!0),o.On.getRecipeById(t).then(e=>{m(e?{id:e.id||"",title:e.title,description:e.description,ingredients:(e.ingredients||[]).map(e=>({ingredient_id:e.ingredient_id||"",name:e.name,amount:e.amount,unit:e.unit,shopUrl:e.shopUrl})),steps:e.steps||[],videoUrl:e.videoUrl,channel:e.channel,createdat:e.createdat?new Date(e.createdat):new Date,isfavorite:e.isfavorite||!1}:null),g([])}).catch(()=>{m(null),g([])}).finally(()=>u(!1)))},[t]);let k=async()=>{s&&window.confirm("정말 이 레시피를 삭제하시겠습니까?")&&(await o.On.deleteRecipe(s.id),e.push("/"))};function _({ingredient:e}){let[t,s]=(0,a.useState)(!1);(0,a.useEffect)(()=>{e.ingredient_id&&y.from("ingredients_master").select("is_favorite").eq("id",e.ingredient_id).single().then(({data:e})=>s(e?.is_favorite||!1))},[e.ingredient_id]);let i=async()=>{if(!e.ingredient_id)return;let r=!t;s(r),await y.from("ingredients_master").update({is_favorite:r}).eq("id",e.ingredient_id)};return(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-white font-medium flex-1",children:e.name}),(0,r.jsxs)("span",{className:"text-gray-400 text-sm",children:[e.amount," ",e.unit]}),e.shopUrl&&r.jsx("a",{href:e.shopUrl,target:"_blank",rel:"noopener noreferrer",className:"ml-2 px-3 py-1 bg-orange-500 text-white rounded-full text-xs font-bold hover:bg-orange-600 transition",children:"구매하기"}),e.ingredient_id&&r.jsx("button",{onClick:i,className:`ml-2 text-lg ${t?"text-orange-400":"text-gray-400"}`,"aria-label":"재료 즐겨찾기",children:t?"♥":"♡"})]})}if(p)return r.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center animate-fadeIn",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-[#1a1a1a] rounded-full flex items-center justify-center animate-pulse",children:r.jsx("svg",{className:"w-8 h-8 text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),r.jsx("span",{className:"text-white text-lg font-medium",children:"레시피를 불러오는 중..."})]})});if(!s)return(0,r.jsxs)("div",{className:"min-h-screen bg-black flex flex-col items-center justify-center px-4 animate-fadeIn",children:[r.jsx(i.Z,{}),(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-[#1a1a1a] rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 12h6m-6-4h6m2 5.291A7.962 7.962 0 0112 15c-2.34 0-4.47-.881-6.08-2.33"})})}),r.jsx("h2",{className:"text-white text-xl font-bold mb-3",children:"레시피를 찾을 수 없습니다"}),r.jsx("p",{className:"text-gray-400 mb-6",children:"요청하신 레시피가 존재하지 않거나 삭제되었습니다"}),r.jsx("button",{onClick:()=>e.back(),className:"px-6 py-3 bg-gradient-to-r from-orange-400 to-orange-500 text-white rounded-xl font-medium hover:from-orange-500 hover:to-orange-600 transition-all duration-200 shadow-lg",children:"돌아가기"})]})]});let q=s.ingredients,C=h.map(e=>({...e,ingredients:e.ingredients.map(e=>({...e}))}));return(0,r.jsxs)("div",{className:"min-h-screen bg-black pb-24 px-4 pt-4 sm:pt-6 overflow-y-auto max-w-md mx-auto",children:[r.jsx(i.Z,{}),s.videoUrl&&(0,d.Zi)(s.videoUrl)?(0,r.jsxs)("div",{className:"w-full aspect-video bg-[#1a1a1a] rounded-2xl overflow-hidden shadow-lg mb-6 relative flex items-center justify-center",children:[r.jsx("img",{src:(0,d.b7)((0,d.Ei)(s.videoUrl)||"","hq"),alt:"유튜브 썸네일",className:"w-full h-full object-cover"}),(0,r.jsxs)("a",{href:s.videoUrl,target:"_blank",rel:"noopener noreferrer",className:"absolute bottom-3 right-3 bg-red-600 text-white rounded-full px-4 py-2 flex items-center gap-2 shadow-lg hover:bg-red-700 transition-colors text-sm font-bold",children:[r.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{d:"M10 15l5.19-3L10 9v6zm12-3c0-5.52-4.48-10-10-10S2 6.48 2 12s4.48 10 10 10 10-4.48 10-10zm-2 0c0 4.42-3.58 8-8 8s-8-3.58-8-8 3.58-8 8-8 8 3.58 8 8z"})}),"유튜브에서 보기"]})]}):r.jsx("div",{className:"w-full aspect-video bg-[#232323] rounded-2xl mb-6 flex items-center justify-center text-gray-500 text-lg",children:"대표 이미지 없음"}),(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[r.jsx("button",{onClick:()=>e.back(),className:"p-2.5 sm:p-3 bg-[#1a1a1a] text-white rounded-xl hover:bg-[#2a2a2a] transition-all duration-200 min-h-[44px] min-w-[44px] flex items-center justify-center",children:r.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),r.jsx("span",{className:"text-base sm:text-lg font-bold text-white",children:"레시피 상세"}),(0,r.jsxs)("div",{className:"flex gap-1.5 sm:gap-2",children:[r.jsx("button",{className:"px-3 sm:px-4 py-2 bg-[#2a2a2a] text-white rounded-xl text-xs sm:text-sm font-medium hover:bg-[#3a3a3a] transition-all duration-200 min-h-[44px]",onClick:()=>N(!0),children:"수정"}),r.jsx("button",{className:"px-3 sm:px-4 py-2 bg-red-500 text-white rounded-xl text-xs sm:text-sm font-medium hover:bg-red-600 transition-all duration-200 min-h-[44px]",onClick:k,children:"삭제"})]})]}),w&&s&&r.jsx("div",{className:"animate-slideIn",children:r.jsx(l.Z,{onSave:e=>{N(!1),m(e)},onCancel:()=>N(!1),initialRecipe:s})}),!w&&(0,r.jsxs)("div",{className:"space-y-6 animate-fadeIn",children:[(0,r.jsxs)("div",{className:"bg-[#1a1a1a] border border-[#2a2a2a] rounded-2xl p-6 shadow-lg",children:[r.jsx("h1",{className:"text-2xl font-bold text-white mb-3 leading-tight",children:s.title}),s.channel&&(0,r.jsxs)("div",{className:"text-orange-400 text-sm font-semibold mb-2",children:["채널: ",s.channel]}),s.description&&r.jsx("p",{className:"text-gray-400 text-base mb-4 leading-relaxed",children:s.description}),r.jsx("div",{className:"flex items-center gap-6"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h2",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[r.jsx("svg",{className:"w-6 h-6 text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"조리 단계"]}),r.jsx("div",{className:"space-y-4",children:s.steps.map((e,t)=>r.jsx("div",{className:"bg-[#1a1a1a] border border-[#2a2a2a] rounded-2xl p-5 shadow-lg hover:border-[#3a3a3a] transition-all duration-200",children:(0,r.jsxs)("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-orange-400 to-orange-500 flex items-center justify-center text-white font-bold text-lg shadow-lg flex-shrink-0",children:t+1}),r.jsx("div",{className:"flex-1",children:r.jsx("p",{className:"text-white text-base leading-relaxed mb-2",children:e.description})})]})},`${e.description}-${t}`))})]}),(0,r.jsxs)("div",{className:"mt-8",children:[(0,r.jsxs)("h2",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[r.jsx("svg",{className:"w-6 h-6 text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"필요한 재료"]}),r.jsx("div",{className:"flex flex-col gap-3",children:q.map(e=>r.jsx(_,{ingredient:e},e.ingredient_id))})]}),(0,r.jsxs)("div",{className:"mt-10",children:[(0,r.jsxs)("h2",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[r.jsx("svg",{className:"w-6 h-6 text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})}),"관련 레시피"]}),0===C.length?r.jsx("div",{className:"bg-black border border-[#232323] rounded-2xl p-6 text-gray-500 text-center",children:"관련 레시피가 없습니다"}):r.jsx("div",{className:"flex flex-col gap-4",children:C.map(e=>{let{common:t,extra:s}=function(e){let t=[],s=[],r={};return e.ingredients.forEach(e=>{r[e.ingredient_id]=e}),Object.values(r).forEach(e=>{e.shopUrl?t.push(e):s.push(e)}),{common:t,extra:s}}(e);return(0,r.jsxs)("div",{className:"bg-black border border-[#232323] rounded-2xl p-5",children:[r.jsx("div",{className:"text-white font-bold text-lg mb-2",children:e.title}),(0,r.jsxs)("div",{className:"mb-2",children:[r.jsx("span",{className:"text-orange-400 font-semibold text-sm",children:"공통 재료"}),(0,r.jsxs)("span",{className:"text-gray-400 text-xs ml-1",children:["(",t.length,"개)"]}),r.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:t.map(e=>r.jsx("span",{className:"inline-flex items-center gap-1 bg-[#232323] text-white text-xs px-3 py-1.5 rounded-full border border-[#333]",children:r.jsx("span",{children:e.name})},e.ingredient_id))})]}),(0,r.jsxs)("div",{children:[r.jsx("span",{className:"text-gray-400 font-semibold text-sm",children:"추가 재료"}),(0,r.jsxs)("span",{className:"text-gray-500 text-xs ml-1",children:["(",s.length,"개)"]}),r.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:s.map(e=>r.jsx("span",{className:"inline-flex items-center gap-1 bg-[#232323] text-white text-xs px-3 py-1.5 rounded-full border border-[#333]",children:r.jsx("span",{children:e.name})},e.ingredient_id))})]})]},e.id)})})]})]}),r.jsx(c.Z,{activeTab:"recipebook",onTabChange:t=>{"home"===t?e.push("/"):"recipebook"===t?e.push("/?tab=recipebook"):"favorites"===t?e.push("/?tab=favorites"):"search"===t&&e.push("/?tab=search")}})]})}},8853:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>i,default:()=>a});let r=(0,s(6843).createProxy)(String.raw`/Users/yeasolkim/Documents/GitHub/yorist/yorist-app/src/app/recipe/[id]/page.tsx`),{__esModule:i,$$typeof:n}=r,a=r.default}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[638,312,9,164],()=>s(2013));module.exports=r})();