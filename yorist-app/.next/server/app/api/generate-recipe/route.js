/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/generate-recipe/route";
exports.ids = ["app/api/generate-recipe/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "?32c4":
/*!****************************!*\
  !*** bufferutil (ignored) ***!
  \****************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?66e9":
/*!********************************!*\
  !*** utf-8-validate (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgenerate-recipe%2Froute&page=%2Fapi%2Fgenerate-recipe%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate-recipe%2Froute.ts&appDir=%2FUsers%2Fyeasolkim%2FDocuments%2FGitHub%2Fyorist%2Fyorist-app%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fyeasolkim%2FDocuments%2FGitHub%2Fyorist%2Fyorist-app&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgenerate-recipe%2Froute&page=%2Fapi%2Fgenerate-recipe%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate-recipe%2Froute.ts&appDir=%2FUsers%2Fyeasolkim%2FDocuments%2FGitHub%2Fyorist%2Fyorist-app%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fyeasolkim%2FDocuments%2FGitHub%2Fyorist%2Fyorist-app&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_yeasolkim_Documents_GitHub_yorist_yorist_app_src_app_api_generate_recipe_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/generate-recipe/route.ts */ \"(rsc)/./src/app/api/generate-recipe/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/generate-recipe/route\",\n        pathname: \"/api/generate-recipe\",\n        filename: \"route\",\n        bundlePath: \"app/api/generate-recipe/route\"\n    },\n    resolvedPagePath: \"/Users/yeasolkim/Documents/GitHub/yorist/yorist-app/src/app/api/generate-recipe/route.ts\",\n    nextConfigOutput,\n    userland: _Users_yeasolkim_Documents_GitHub_yorist_yorist_app_src_app_api_generate_recipe_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/generate-recipe/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZnZW5lcmF0ZS1yZWNpcGUlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmdlbmVyYXRlLXJlY2lwZSUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmdlbmVyYXRlLXJlY2lwZSUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnllYXNvbGtpbSUyRkRvY3VtZW50cyUyRkdpdEh1YiUyRnlvcmlzdCUyRnlvcmlzdC1hcHAlMkZzcmMlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGeWVhc29sa2ltJTJGRG9jdW1lbnRzJTJGR2l0SHViJTJGeW9yaXN0JTJGeW9yaXN0LWFwcCZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUN3QztBQUNySDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVHQUF1RztBQUMvRztBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQzZKOztBQUU3SiIsInNvdXJjZXMiOlsid2VicGFjazovL3lvcmlzdC1hcHAvPzE3MTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1VzZXJzL3llYXNvbGtpbS9Eb2N1bWVudHMvR2l0SHViL3lvcmlzdC95b3Jpc3QtYXBwL3NyYy9hcHAvYXBpL2dlbmVyYXRlLXJlY2lwZS9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvZ2VuZXJhdGUtcmVjaXBlL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvZ2VuZXJhdGUtcmVjaXBlXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9nZW5lcmF0ZS1yZWNpcGUvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMveWVhc29sa2ltL0RvY3VtZW50cy9HaXRIdWIveW9yaXN0L3lvcmlzdC1hcHAvc3JjL2FwcC9hcGkvZ2VuZXJhdGUtcmVjaXBlL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2dlbmVyYXRlLXJlY2lwZS9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgenerate-recipe%2Froute&page=%2Fapi%2Fgenerate-recipe%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate-recipe%2Froute.ts&appDir=%2FUsers%2Fyeasolkim%2FDocuments%2FGitHub%2Fyorist%2Fyorist-app%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fyeasolkim%2FDocuments%2FGitHub%2Fyorist%2Fyorist-app&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/generate-recipe/route.ts":
/*!**********************************************!*\
  !*** ./src/app/api/generate-recipe/route.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n\n\n// 백엔드 API URL (환경변수로 설정 가능)\nconst BACKEND_API_URL = process.env.BACKEND_API_URL || \"https://your-backend-url.railway.app\";\nconst BACKEND_API_URL1 = process.env.BACKEND_API_URL1 || \"https://your-backend-url1.railway.app\";\n// Supabase 클라이언트 초기화\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_1__.createClient)(\"https://rshosgiwnqcvwfnkqdwc.supabase.co\", \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJzaG9zZ2l3bnFjdndmbmtxZHdjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE2MzMxNjEsImV4cCI6MjA2NzIwOTE2MX0.9yrX80F0-3w0H8u3Qx449oYRpD4vA1wEjEYP7mdylGg\");\n// 재료 매칭 함수: 기존 데이터베이스의 재료와 매칭하여 ingredient_id 설정\nasync function matchIngredientsWithDatabase(ingredients) {\n    const matchedIngredients = [];\n    for (const ingredient of ingredients){\n        try {\n            // 재료명으로 기존 데이터베이스에서 검색 (대소문자 구분 없이)\n            const { data: existingIngredient, error } = await supabase.from(\"ingredients_master\").select(\"id, name, unit, shop_url\").ilike(\"name\", ingredient.name.trim()).single();\n            if (existingIngredient && existingIngredient.id) {\n                // 기존 재료가 있으면 해당 ID와 정보 사용\n                console.log(`[generate-recipe] 기존 재료 매칭: ${ingredient.name} -> ID: ${existingIngredient.id}`);\n                matchedIngredients.push({\n                    ingredient_id: String(existingIngredient.id),\n                    name: existingIngredient.name,\n                    amount: ingredient.amount || \"\",\n                    unit: ingredient.unit || existingIngredient.unit || \"개\",\n                    shop_url: ingredient.shop_url || existingIngredient.shop_url || \"\"\n                });\n            } else {\n                // 기존 재료가 없으면 새로 생성\n                console.log(`[generate-recipe] 새 재료 생성: ${ingredient.name}`);\n                const { data: newIngredient, error: insertError } = await supabase.from(\"ingredients_master\").insert({\n                    name: ingredient.name.trim(),\n                    unit: ingredient.unit || \"개\",\n                    shop_url: ingredient.shop_url || null,\n                    is_favorite: \"false\"\n                }).select(\"id\").single();\n                if (insertError) {\n                    console.error(`[generate-recipe] 재료 생성 실패: ${ingredient.name}`, insertError);\n                    // 생성 실패 시에도 기본 정보로 진행\n                    matchedIngredients.push({\n                        ingredient_id: \"\",\n                        name: ingredient.name.trim(),\n                        amount: ingredient.amount || \"\",\n                        unit: ingredient.unit || \"개\",\n                        shop_url: ingredient.shop_url || \"\"\n                    });\n                } else {\n                    matchedIngredients.push({\n                        ingredient_id: String(newIngredient.id),\n                        name: ingredient.name.trim(),\n                        amount: ingredient.amount || \"\",\n                        unit: ingredient.unit || \"개\",\n                        shop_url: ingredient.shop_url || \"\"\n                    });\n                }\n            }\n        } catch (error) {\n            console.error(`[generate-recipe] 재료 매칭 중 오류: ${ingredient.name}`, error);\n            // 오류 발생 시에도 기본 정보로 진행\n            matchedIngredients.push({\n                ingredient_id: \"\",\n                name: ingredient.name.trim(),\n                amount: ingredient.amount || \"\",\n                unit: ingredient.unit || \"개\",\n                shop_url: ingredient.shop_url || \"\"\n            });\n        }\n    }\n    return matchedIngredients;\n}\n// POST /api/generate-recipe\nasync function POST(req) {\n    try {\n        const { youtubeUrl, isShorts } = await req.json();\n        console.log(\"[generate-recipe] 입력 youtubeUrl:\", youtubeUrl);\n        console.log(\"[generate-recipe] isShorts:\", isShorts);\n        if (!youtubeUrl || typeof youtubeUrl !== \"string\") {\n            console.error(\"[generate-recipe] 유효하지 않은 youtubeUrl:\", youtubeUrl);\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"유효한 유튜브 링크를 입력하세요.\"\n            }, {\n                status: 400\n            });\n        }\n        // 백엔드 API URL 분기\n        const backendApiUrl = isShorts === false ? BACKEND_API_URL1 : BACKEND_API_URL;\n        // 백엔드 API 엔드포인트 및 파라미터 분기\n        const endpoint = isShorts === false ? \"/transcript\" : \"/generate-recipe\";\n        const paramKey = isShorts === false ? \"url\" : \"youtube_url\";\n        // 일반 영상의 경우 쿼리 파라미터 제거\n        const cleanUrl = isShorts === false ? youtubeUrl.split(\"?\")[0] : youtubeUrl;\n        // 백엔드 API 호출\n        console.log(\"[generate-recipe] 백엔드 API 호출 시작:\", `${backendApiUrl}${endpoint}`);\n        const backendResponse = await fetch(`${backendApiUrl}${endpoint}?${paramKey}=${encodeURIComponent(cleanUrl)}`, {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            // 타임아웃 설정 (5분)\n            signal: AbortSignal.timeout(300000)\n        });\n        console.log(\"[generate-recipe] 백엔드 응답 상태:\", backendResponse.status);\n        if (!backendResponse.ok) {\n            const errorData = await backendResponse.json().catch(()=>({}));\n            console.error(\"[generate-recipe] 백엔드 API 오류:\", errorData);\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: errorData.detail || `백엔드 API 오류 (${backendResponse.status})`\n            }, {\n                status: backendResponse.status\n            });\n        }\n        const backendData = await backendResponse.json();\n        console.log(\"[generate-recipe] 백엔드 응답 데이터:\", backendData);\n        if (!backendData.success || !backendData.recipe) {\n            console.error(\"[generate-recipe] 백엔드에서 레시피 생성 실패:\", backendData);\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: backendData.error || \"레시피 생성에 실패했습니다.\"\n            }, {\n                status: 500\n            });\n        }\n        // 백엔드에서 받은 레시피 데이터 파싱\n        let recipeJson = backendData.recipe;\n        // JSON 문자열인 경우 파싱\n        if (typeof recipeJson === \"string\") {\n            try {\n                recipeJson = JSON.parse(recipeJson);\n            } catch (e) {\n                console.error(\"[generate-recipe] 백엔드 응답 JSON 파싱 실패:\", recipeJson, e);\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                    error: \"백엔드에서 받은 레시피 데이터 파싱에 실패했습니다.\",\n                    raw: recipeJson\n                }, {\n                    status: 500\n                });\n            }\n        }\n        console.log(\"[generate-recipe] 파싱된 레시피:\", recipeJson);\n        // 재료 데이터를 데이터베이스와 매칭\n        console.log(\"[generate-recipe] 재료 매칭 시작:\", recipeJson.ingredients);\n        const matchedIngredients = await matchIngredientsWithDatabase(recipeJson.ingredients || []);\n        console.log(\"[generate-recipe] 매칭된 재료:\", matchedIngredients);\n        // DB 구조에 맞게 필드명 변환\n        const recipe = {\n            title: recipeJson.title,\n            description: recipeJson.description || \"\",\n            ingredients: matchedIngredients,\n            steps: (recipeJson.steps || []).map((step)=>({\n                    description: step.description || step || \"\",\n                    isImportant: typeof step.isImportant === \"boolean\" ? step.isImportant : false\n                })),\n            videourl: recipeJson.videourl || youtubeUrl,\n            createdat: new Date().toISOString(),\n            isfavorite: false\n        };\n        console.log(\"[generate-recipe] 최종 변환된 레시피:\", recipe);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            recipe,\n            transcript: backendData.transcript // 자막도 함께 반환 (디버깅용)\n        });\n    } catch (error) {\n        console.error(\"[generate-recipe] 알 수 없는 예외:\", error);\n        // 타임아웃 에러 처리\n        if (error instanceof Error && error.name === \"AbortError\") {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"요청 시간이 초과되었습니다. 다시 시도해주세요.\"\n            }, {\n                status: 408\n            });\n        }\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"요청 처리 중 오류가 발생했습니다.\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9nZW5lcmF0ZS1yZWNpcGUvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXdEO0FBQ0g7QUFFckQsNEJBQTRCO0FBQzVCLE1BQU1FLGtCQUFrQkMsUUFBUUMsR0FBRyxDQUFDRixlQUFlLElBQUk7QUFDdkQsTUFBTUcsbUJBQW1CRixRQUFRQyxHQUFHLENBQUNDLGdCQUFnQixJQUFJO0FBRXpELHFCQUFxQjtBQUNyQixNQUFNQyxXQUFXTCxtRUFBWUEsQ0FBQ0UsMENBQW9DLEVBQUdBLGtOQUF5QztBQUU5RyxpREFBaUQ7QUFDakQsZUFBZU0sNkJBQTZCQyxXQUFrQjtJQUM1RCxNQUFNQyxxQkFBcUIsRUFBRTtJQUU3QixLQUFLLE1BQU1DLGNBQWNGLFlBQWE7UUFDcEMsSUFBSTtZQUNGLG9DQUFvQztZQUNwQyxNQUFNLEVBQUVHLE1BQU1DLGtCQUFrQixFQUFFQyxLQUFLLEVBQUUsR0FBRyxNQUFNVCxTQUMvQ1UsSUFBSSxDQUFDLHNCQUNMQyxNQUFNLENBQUMsNEJBQ1BDLEtBQUssQ0FBQyxRQUFRTixXQUFXTyxJQUFJLENBQUNDLElBQUksSUFDbENDLE1BQU07WUFFVCxJQUFJUCxzQkFBc0JBLG1CQUFtQlEsRUFBRSxFQUFFO2dCQUMvQywwQkFBMEI7Z0JBQzFCQyxRQUFRQyxHQUFHLENBQUMsQ0FBQyw0QkFBNEIsRUFBRVosV0FBV08sSUFBSSxDQUFDLFFBQVEsRUFBRUwsbUJBQW1CUSxFQUFFLENBQUMsQ0FBQztnQkFDNUZYLG1CQUFtQmMsSUFBSSxDQUFDO29CQUN0QkMsZUFBZUMsT0FBT2IsbUJBQW1CUSxFQUFFO29CQUMzQ0gsTUFBTUwsbUJBQW1CSyxJQUFJO29CQUM3QlMsUUFBUWhCLFdBQVdnQixNQUFNLElBQUk7b0JBQzdCQyxNQUFNakIsV0FBV2lCLElBQUksSUFBSWYsbUJBQW1CZSxJQUFJLElBQUk7b0JBQ3BEQyxVQUFVbEIsV0FBV2tCLFFBQVEsSUFBSWhCLG1CQUFtQmdCLFFBQVEsSUFBSTtnQkFD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Q3VDLElBQUksQ0FBQztnQkFDdkJ4QixPQUFPO1lBQ1QsR0FBRztnQkFBRXlCLFFBQVE7WUFBSTtRQUNuQjtRQUVBLE9BQU94QyxrRkFBWUEsQ0FBQ3VDLElBQUksQ0FBQztZQUN2QnhCLE9BQU87UUFDVCxHQUFHO1lBQUV5QixRQUFRO1FBQUk7SUFDbkI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3lvcmlzdC1hcHAvLi9zcmMvYXBwL2FwaS9nZW5lcmF0ZS1yZWNpcGUvcm91dGUudHM/YTYzOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJztcblxuLy8g67Cx7JeU65OcIEFQSSBVUkwgKO2ZmOqyveuzgOyImOuhnCDshKTsoJUg6rCA64qlKVxuY29uc3QgQkFDS0VORF9BUElfVVJMID0gcHJvY2Vzcy5lbnYuQkFDS0VORF9BUElfVVJMIHx8ICdodHRwczovL3lvdXItYmFja2VuZC11cmwucmFpbHdheS5hcHAnO1xuY29uc3QgQkFDS0VORF9BUElfVVJMMSA9IHByb2Nlc3MuZW52LkJBQ0tFTkRfQVBJX1VSTDEgfHwgJ2h0dHBzOi8veW91ci1iYWNrZW5kLXVybDEucmFpbHdheS5hcHAnO1xuXG4vLyBTdXBhYmFzZSDtgbTrnbzsnbTslrjtirgg7LSI6riw7ZmUXG5jb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudChwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwhLCBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSEpO1xuXG4vLyDsnqzro4wg66ek7LmtIO2VqOyImDog6riw7KG0IOuNsOydtO2EsOuyoOydtOyKpOydmCDsnqzro4zsmYAg66ek7Lmt7ZWY7JesIGluZ3JlZGllbnRfaWQg7ISk7KCVXG5hc3luYyBmdW5jdGlvbiBtYXRjaEluZ3JlZGllbnRzV2l0aERhdGFiYXNlKGluZ3JlZGllbnRzOiBhbnlbXSk6IFByb21pc2U8YW55W10+IHtcbiAgY29uc3QgbWF0Y2hlZEluZ3JlZGllbnRzID0gW107XG4gIFxuICBmb3IgKGNvbnN0IGluZ3JlZGllbnQgb2YgaW5ncmVkaWVudHMpIHtcbiAgICB0cnkge1xuICAgICAgLy8g7J6s66OM66qF7Jy866GcIOq4sOyhtCDrjbDsnbTthLDrsqDsnbTsiqTsl5DshJwg6rKA7IOJICjrjIDshozrrLjsnpAg6rWs67aEIOyXhuydtClcbiAgICAgIGNvbnN0IHsgZGF0YTogZXhpc3RpbmdJbmdyZWRpZW50LCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ2luZ3JlZGllbnRzX21hc3RlcicpXG4gICAgICAgIC5zZWxlY3QoJ2lkLCBuYW1lLCB1bml0LCBzaG9wX3VybCcpXG4gICAgICAgIC5pbGlrZSgnbmFtZScsIGluZ3JlZGllbnQubmFtZS50cmltKCkpXG4gICAgICAgIC5zaW5nbGUoKTtcbiAgICAgIFxuICAgICAgaWYgKGV4aXN0aW5nSW5ncmVkaWVudCAmJiBleGlzdGluZ0luZ3JlZGllbnQuaWQpIHtcbiAgICAgICAgLy8g6riw7KG0IOyerOujjOqwgCDsnojsnLzrqbQg7ZW064u5IElE7JmAIOygleuztCDsgqzsmqlcbiAgICAgICAgY29uc29sZS5sb2coYFtnZW5lcmF0ZS1yZWNpcGVdIOq4sOyhtCDsnqzro4wg66ek7LmtOiAke2luZ3JlZGllbnQubmFtZX0gLT4gSUQ6ICR7ZXhpc3RpbmdJbmdyZWRpZW50LmlkfWApO1xuICAgICAgICBtYXRjaGVkSW5ncmVkaWVudHMucHVzaCh7XG4gICAgICAgICAgaW5ncmVkaWVudF9pZDogU3RyaW5nKGV4aXN0aW5nSW5ncmVkaWVudC5pZCksXG4gICAgICAgICAgbmFtZTogZXhpc3RpbmdJbmdyZWRpZW50Lm5hbWUsXG4gICAgICAgICAgYW1vdW50OiBpbmdyZWRpZW50LmFtb3VudCB8fCAnJyxcbiAgICAgICAgICB1bml0OiBpbmdyZWRpZW50LnVuaXQgfHwgZXhpc3RpbmdJbmdyZWRpZW50LnVuaXQgfHwgJ+qwnCcsXG4gICAgICAgICAgc2hvcF91cmw6IGluZ3JlZGllbnQuc2hvcF91cmwgfHwgZXhpc3RpbmdJbmdyZWRpZW50LnNob3BfdXJsIHx8ICcnXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8g6riw7KG0IOyerOujjOqwgCDsl4bsnLzrqbQg7IOI66GcIOyDneyEsVxuICAgICAgICBjb25zb2xlLmxvZyhgW2dlbmVyYXRlLXJlY2lwZV0g7IOIIOyerOujjCDsg53shLE6ICR7aW5ncmVkaWVudC5uYW1lfWApO1xuICAgICAgICBjb25zdCB7IGRhdGE6IG5ld0luZ3JlZGllbnQsIGVycm9yOiBpbnNlcnRFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAuZnJvbSgnaW5ncmVkaWVudHNfbWFzdGVyJylcbiAgICAgICAgICAuaW5zZXJ0KHtcbiAgICAgICAgICAgIG5hbWU6IGluZ3JlZGllbnQubmFtZS50cmltKCksXG4gICAgICAgICAgICB1bml0OiBpbmdyZWRpZW50LnVuaXQgfHwgJ+qwnCcsXG4gICAgICAgICAgICBzaG9wX3VybDogaW5ncmVkaWVudC5zaG9wX3VybCB8fCBudWxsLFxuICAgICAgICAgICAgaXNfZmF2b3JpdGU6ICdmYWxzZSdcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5zZWxlY3QoJ2lkJylcbiAgICAgICAgICAuc2luZ2xlKCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoaW5zZXJ0RXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGBbZ2VuZXJhdGUtcmVjaXBlXSDsnqzro4wg7IOd7ISxIOyLpO2MqDogJHtpbmdyZWRpZW50Lm5hbWV9YCwgaW5zZXJ0RXJyb3IpO1xuICAgICAgICAgIC8vIOyDneyEsSDsi6TtjKgg7Iuc7JeQ64+EIOq4sOuzuCDsoJXrs7TroZwg7KeE7ZaJXG4gICAgICAgICAgbWF0Y2hlZEluZ3JlZGllbnRzLnB1c2goe1xuICAgICAgICAgICAgaW5ncmVkaWVudF9pZDogJycsXG4gICAgICAgICAgICBuYW1lOiBpbmdyZWRpZW50Lm5hbWUudHJpbSgpLFxuICAgICAgICAgICAgYW1vdW50OiBpbmdyZWRpZW50LmFtb3VudCB8fCAnJyxcbiAgICAgICAgICAgIHVuaXQ6IGluZ3JlZGllbnQudW5pdCB8fCAn6rCcJyxcbiAgICAgICAgICAgIHNob3BfdXJsOiBpbmdyZWRpZW50LnNob3BfdXJsIHx8ICcnXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbWF0Y2hlZEluZ3JlZGllbnRzLnB1c2goe1xuICAgICAgICAgICAgaW5ncmVkaWVudF9pZDogU3RyaW5nKG5ld0luZ3JlZGllbnQuaWQpLFxuICAgICAgICAgICAgbmFtZTogaW5ncmVkaWVudC5uYW1lLnRyaW0oKSxcbiAgICAgICAgICAgIGFtb3VudDogaW5ncmVkaWVudC5hbW91bnQgfHwgJycsXG4gICAgICAgICAgICB1bml0OiBpbmdyZWRpZW50LnVuaXQgfHwgJ+qwnCcsXG4gICAgICAgICAgICBzaG9wX3VybDogaW5ncmVkaWVudC5zaG9wX3VybCB8fCAnJ1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFtnZW5lcmF0ZS1yZWNpcGVdIOyerOujjCDrp6Tsua0g7KSRIOyYpOulmDogJHtpbmdyZWRpZW50Lm5hbWV9YCwgZXJyb3IpO1xuICAgICAgLy8g7Jik66WYIOuwnOyDnSDsi5zsl5Drj4Qg6riw67O4IOygleuztOuhnCDsp4TtlolcbiAgICAgIG1hdGNoZWRJbmdyZWRpZW50cy5wdXNoKHtcbiAgICAgICAgaW5ncmVkaWVudF9pZDogJycsXG4gICAgICAgIG5hbWU6IGluZ3JlZGllbnQubmFtZS50cmltKCksXG4gICAgICAgIGFtb3VudDogaW5ncmVkaWVudC5hbW91bnQgfHwgJycsXG4gICAgICAgIHVuaXQ6IGluZ3JlZGllbnQudW5pdCB8fCAn6rCcJyxcbiAgICAgICAgc2hvcF91cmw6IGluZ3JlZGllbnQuc2hvcF91cmwgfHwgJydcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBcbiAgcmV0dXJuIG1hdGNoZWRJbmdyZWRpZW50cztcbn1cblxuLy8gUE9TVCAvYXBpL2dlbmVyYXRlLXJlY2lwZVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxOiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IHsgeW91dHViZVVybCwgaXNTaG9ydHMgfSA9IGF3YWl0IHJlcS5qc29uKCk7XG4gICAgY29uc29sZS5sb2coJ1tnZW5lcmF0ZS1yZWNpcGVdIOyeheugpSB5b3V0dWJlVXJsOicsIHlvdXR1YmVVcmwpO1xuICAgIGNvbnNvbGUubG9nKCdbZ2VuZXJhdGUtcmVjaXBlXSBpc1Nob3J0czonLCBpc1Nob3J0cyk7XG4gICAgXG4gICAgaWYgKCF5b3V0dWJlVXJsIHx8IHR5cGVvZiB5b3V0dWJlVXJsICE9PSAnc3RyaW5nJykge1xuICAgICAgY29uc29sZS5lcnJvcignW2dlbmVyYXRlLXJlY2lwZV0g7Jyg7Zqo7ZWY7KeAIOyViuydgCB5b3V0dWJlVXJsOicsIHlvdXR1YmVVcmwpO1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICfsnKDtmqjtlZwg7Jyg7Yqc67iMIOunge2BrOulvCDsnoXroKXtlZjshLjsmpQuJyB9LCB7IHN0YXR1czogNDAwIH0pO1xuICAgIH1cblxuICAgIC8vIOuwseyXlOuTnCBBUEkgVVJMIOu2hOq4sFxuICAgIGNvbnN0IGJhY2tlbmRBcGlVcmwgPSBpc1Nob3J0cyA9PT0gZmFsc2UgPyBCQUNLRU5EX0FQSV9VUkwxIDogQkFDS0VORF9BUElfVVJMO1xuXG4gICAgLy8g67Cx7JeU65OcIEFQSSDsl5Trk5ztj6zsnbjtirgg67CPIO2MjOudvOuvuO2EsCDrtoTquLBcbiAgICBjb25zdCBlbmRwb2ludCA9IGlzU2hvcnRzID09PSBmYWxzZSA/ICcvdHJhbnNjcmlwdCcgOiAnL2dlbmVyYXRlLXJlY2lwZSc7XG4gICAgY29uc3QgcGFyYW1LZXkgPSBpc1Nob3J0cyA9PT0gZmFsc2UgPyAndXJsJyA6ICd5b3V0dWJlX3VybCc7XG4gICAgLy8g7J2867CYIOyYgeyDgeydmCDqsr3smrAg7L+866asIO2MjOudvOuvuO2EsCDsoJzqsbBcbiAgICBjb25zdCBjbGVhblVybCA9IGlzU2hvcnRzID09PSBmYWxzZSA/IHlvdXR1YmVVcmwuc3BsaXQoJz8nKVswXSA6IHlvdXR1YmVVcmw7XG5cbiAgICAvLyDrsLHsl5Trk5wgQVBJIO2YuOy2nFxuICAgIGNvbnNvbGUubG9nKCdbZ2VuZXJhdGUtcmVjaXBlXSDrsLHsl5Trk5wgQVBJIO2YuOy2nCDsi5zsnpE6JywgYCR7YmFja2VuZEFwaVVybH0ke2VuZHBvaW50fWApO1xuICAgIFxuICAgIGNvbnN0IGJhY2tlbmRSZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke2JhY2tlbmRBcGlVcmx9JHtlbmRwb2ludH0/JHtwYXJhbUtleX09JHtlbmNvZGVVUklDb21wb25lbnQoY2xlYW5VcmwpfWAsIHtcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICB9LFxuICAgICAgLy8g7YOA7J6E7JWE7JuDIOyEpOyglSAoNeu2hClcbiAgICAgIHNpZ25hbDogQWJvcnRTaWduYWwudGltZW91dCgzMDAwMDApXG4gICAgfSk7XG5cbiAgICBjb25zb2xlLmxvZygnW2dlbmVyYXRlLXJlY2lwZV0g67Cx7JeU65OcIOydkeuLtSDsg4Htg5w6JywgYmFja2VuZFJlc3BvbnNlLnN0YXR1cyk7XG4gICAgXG4gICAgaWYgKCFiYWNrZW5kUmVzcG9uc2Uub2spIHtcbiAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IGJhY2tlbmRSZXNwb25zZS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgICBjb25zb2xlLmVycm9yKCdbZ2VuZXJhdGUtcmVjaXBlXSDrsLHsl5Trk5wgQVBJIOyYpOulmDonLCBlcnJvckRhdGEpO1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgXG4gICAgICAgIGVycm9yOiBlcnJvckRhdGEuZGV0YWlsIHx8IGDrsLHsl5Trk5wgQVBJIOyYpOulmCAoJHtiYWNrZW5kUmVzcG9uc2Uuc3RhdHVzfSlgIFxuICAgICAgfSwgeyBzdGF0dXM6IGJhY2tlbmRSZXNwb25zZS5zdGF0dXMgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgYmFja2VuZERhdGEgPSBhd2FpdCBiYWNrZW5kUmVzcG9uc2UuanNvbigpO1xuICAgIGNvbnNvbGUubG9nKCdbZ2VuZXJhdGUtcmVjaXBlXSDrsLHsl5Trk5wg7J2R64u1IOuNsOydtO2EsDonLCBiYWNrZW5kRGF0YSk7XG5cbiAgICBpZiAoIWJhY2tlbmREYXRhLnN1Y2Nlc3MgfHwgIWJhY2tlbmREYXRhLnJlY2lwZSkge1xuICAgICAgY29uc29sZS5lcnJvcignW2dlbmVyYXRlLXJlY2lwZV0g67Cx7JeU65Oc7JeQ7IScIOugiOyLnO2UvCDsg53shLEg7Iuk7YyoOicsIGJhY2tlbmREYXRhKTtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IFxuICAgICAgICBlcnJvcjogYmFja2VuZERhdGEuZXJyb3IgfHwgJ+ugiOyLnO2UvCDsg53shLHsl5Ag7Iuk7Yyo7ZaI7Iq164uI64ukLicgXG4gICAgICB9LCB7IHN0YXR1czogNTAwIH0pO1xuICAgIH1cblxuICAgIC8vIOuwseyXlOuTnOyXkOyEnCDrsJvsnYAg66CI7Iuc7ZS8IOuNsOydtO2EsCDtjIzsi7FcbiAgICBsZXQgcmVjaXBlSnNvbiA9IGJhY2tlbmREYXRhLnJlY2lwZTtcbiAgICBcbiAgICAvLyBKU09OIOusuOyekOyXtOyduCDqsr3smrAg7YyM7IuxXG4gICAgaWYgKHR5cGVvZiByZWNpcGVKc29uID09PSAnc3RyaW5nJykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmVjaXBlSnNvbiA9IEpTT04ucGFyc2UocmVjaXBlSnNvbik7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tnZW5lcmF0ZS1yZWNpcGVdIOuwseyXlOuTnCDsnZHri7UgSlNPTiDtjIzsi7Eg7Iuk7YyoOicsIHJlY2lwZUpzb24sIGUpO1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBcbiAgICAgICAgICBlcnJvcjogJ+uwseyXlOuTnOyXkOyEnCDrsJvsnYAg66CI7Iuc7ZS8IOuNsOydtO2EsCDtjIzsi7Hsl5Ag7Iuk7Yyo7ZaI7Iq164uI64ukLicsXG4gICAgICAgICAgcmF3OiByZWNpcGVKc29uIFxuICAgICAgICB9LCB7IHN0YXR1czogNTAwIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCdbZ2VuZXJhdGUtcmVjaXBlXSDtjIzsi7HrkJwg66CI7Iuc7ZS8OicsIHJlY2lwZUpzb24pO1xuXG4gICAgLy8g7J6s66OMIOuNsOydtO2EsOulvCDrjbDsnbTthLDrsqDsnbTsiqTsmYAg66ek7LmtXG4gICAgY29uc29sZS5sb2coJ1tnZW5lcmF0ZS1yZWNpcGVdIOyerOujjCDrp6Tsua0g7Iuc7J6ROicsIHJlY2lwZUpzb24uaW5ncmVkaWVudHMpO1xuICAgIGNvbnN0IG1hdGNoZWRJbmdyZWRpZW50cyA9IGF3YWl0IG1hdGNoSW5ncmVkaWVudHNXaXRoRGF0YWJhc2UocmVjaXBlSnNvbi5pbmdyZWRpZW50cyB8fCBbXSk7XG4gICAgY29uc29sZS5sb2coJ1tnZW5lcmF0ZS1yZWNpcGVdIOunpOy5reuQnCDsnqzro4w6JywgbWF0Y2hlZEluZ3JlZGllbnRzKTtcblxuICAgIC8vIERCIOq1rOyhsOyXkCDrp57qsowg7ZWE65Oc66qFIOuzgO2ZmFxuICAgIGNvbnN0IHJlY2lwZSA9IHtcbiAgICAgIHRpdGxlOiByZWNpcGVKc29uLnRpdGxlLFxuICAgICAgZGVzY3JpcHRpb246IHJlY2lwZUpzb24uZGVzY3JpcHRpb24gfHwgJycsXG4gICAgICBpbmdyZWRpZW50czogbWF0Y2hlZEluZ3JlZGllbnRzLFxuICAgICAgc3RlcHM6IChyZWNpcGVKc29uLnN0ZXBzIHx8IFtdKS5tYXAoKHN0ZXA6IGFueSkgPT4gKHtcbiAgICAgICAgZGVzY3JpcHRpb246IHN0ZXAuZGVzY3JpcHRpb24gfHwgc3RlcCB8fCAnJyxcbiAgICAgICAgaXNJbXBvcnRhbnQ6IHR5cGVvZiBzdGVwLmlzSW1wb3J0YW50ID09PSAnYm9vbGVhbicgPyBzdGVwLmlzSW1wb3J0YW50IDogZmFsc2VcbiAgICAgIH0pKSxcbiAgICAgIHZpZGVvdXJsOiByZWNpcGVKc29uLnZpZGVvdXJsIHx8IHlvdXR1YmVVcmwsXG4gICAgICBjcmVhdGVkYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIGlzZmF2b3JpdGU6IGZhbHNlXG4gICAgfTtcblxuICAgIGNvbnNvbGUubG9nKCdbZ2VuZXJhdGUtcmVjaXBlXSDstZzsooUg67OA7ZmY65CcIOugiOyLnO2UvDonLCByZWNpcGUpO1xuICAgIFxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IFxuICAgICAgcmVjaXBlLFxuICAgICAgdHJhbnNjcmlwdDogYmFja2VuZERhdGEudHJhbnNjcmlwdCAvLyDsnpDrp4nrj4Qg7ZWo6ruYIOuwmO2ZmCAo65SU67KE6rmF7JqpKVxuICAgIH0pO1xuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignW2dlbmVyYXRlLXJlY2lwZV0g7JWMIOyImCDsl4bripQg7JiI7Jm4OicsIGVycm9yKTtcbiAgICBcbiAgICAvLyDtg4DsnoTslYTsm4Mg7JeQ65+sIOyymOumrFxuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmIGVycm9yLm5hbWUgPT09ICdBYm9ydEVycm9yJykge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgXG4gICAgICAgIGVycm9yOiAn7JqU7LKtIOyLnOqwhOydtCDstIjqs7zrkJjsl4jsirXri4jri6QuIOuLpOyLnCDsi5zrj4TtlbTso7zshLjsmpQuJyBcbiAgICAgIH0sIHsgc3RhdHVzOiA0MDggfSk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IFxuICAgICAgZXJyb3I6ICfsmpTssq0g7LKY66asIOykkSDsmKTrpZjqsIAg67Cc7IOd7ZaI7Iq164uI64ukLicgXG4gICAgfSwgeyBzdGF0dXM6IDUwMCB9KTtcbiAgfVxufSAiXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiY3JlYXRlQ2xpZW50IiwiQkFDS0VORF9BUElfVVJMIiwicHJvY2VzcyIsImVudiIsIkJBQ0tFTkRfQVBJX1VSTDEiLCJzdXBhYmFzZSIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIiwibWF0Y2hJbmdyZWRpZW50c1dpdGhEYXRhYmFzZSIsImluZ3JlZGllbnRzIiwibWF0Y2hlZEluZ3JlZGllbnRzIiwiaW5ncmVkaWVudCIsImRhdGEiLCJleGlzdGluZ0luZ3JlZGllbnQiLCJlcnJvciIsImZyb20iLCJzZWxlY3QiLCJpbGlrZSIsIm5hbWUiLCJ0cmltIiwic2luZ2xlIiwiaWQiLCJjb25zb2xlIiwibG9nIiwicHVzaCIsImluZ3JlZGllbnRfaWQiLCJTdHJpbmciLCJhbW91bnQiLCJ1bml0Iiwic2hvcF91cmwiLCJuZXdJbmdyZWRpZW50IiwiaW5zZXJ0RXJyb3IiLCJpbnNlcnQiLCJpc19mYXZvcml0ZSIsIlBPU1QiLCJyZXEiLCJ5b3V0dWJlVXJsIiwiaXNTaG9ydHMiLCJqc29uIiwic3RhdHVzIiwiYmFja2VuZEFwaVVybCIsImVuZHBvaW50IiwicGFyYW1LZXkiLCJjbGVhblVybCIsInNwbGl0IiwiYmFja2VuZFJlc3BvbnNlIiwiZmV0Y2giLCJlbmNvZGVVUklDb21wb25lbnQiLCJtZXRob2QiLCJoZWFkZXJzIiwic2lnbmFsIiwiQWJvcnRTaWduYWwiLCJ0aW1lb3V0Iiwib2siLCJlcnJvckRhdGEiLCJjYXRjaCIsImRldGFpbCIsImJhY2tlbmREYXRhIiwic3VjY2VzcyIsInJlY2lwZSIsInJlY2lwZUpzb24iLCJKU09OIiwicGFyc2UiLCJlIiwicmF3IiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsInN0ZXBzIiwibWFwIiwic3RlcCIsImlzSW1wb3J0YW50IiwidmlkZW91cmwiLCJjcmVhdGVkYXQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJpc2Zhdm9yaXRlIiwidHJhbnNjcmlwdCIsIkVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/generate-recipe/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/@supabase","vendor-chunks/next","vendor-chunks/ws","vendor-chunks/whatwg-url","vendor-chunks/isows","vendor-chunks/tr46","vendor-chunks/webidl-conversions"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgenerate-recipe%2Froute&page=%2Fapi%2Fgenerate-recipe%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate-recipe%2Froute.ts&appDir=%2FUsers%2Fyeasolkim%2FDocuments%2FGitHub%2Fyorist%2Fyorist-app%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fyeasolkim%2FDocuments%2FGitHub%2Fyorist%2Fyorist-app&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();